!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d={};Number.prototype.mul=function(a){if(!/\./.test(this)&&!/\./.test(a))return this*a;var b=this,c=a,d=0,e=b.toString(),f=c.toString();return e.indexOf(".")>=0&&(d+=e.split(".")[1].length),f.indexOf(".")>=0&&(d+=f.split(".")[1].length),Number(e.replace(".",""))*Number(f.replace(".",""))/Math.pow(10,d)},d.listC=function(a,b){for(var c=[[]],d=[],e=0,f=a.length;f>e;e++)for(var g=0,h=c.length;h>g;g++){var i=c[g].concat([a[e]]);i.length<b?c.push(i):d.push(i)}return d},d.Tools={C:function(a,b){var c=[];return function d(a,b,e){if(0==e)return c.push(a);for(var f=0,g=b.length;g-e>=f;f++)d(a.concat(b[f]),b.slice(f+1),e-1)}([],a,b),c},P:function(a,b){var c=[];return function d(a,b,e){if(0==e)return c.push(a);for(var f=0,g=b.length;g>f;f++)d(a.concat(b[f]),b.slice(0,f).concat(b.slice(f+1)),e-1)}([],a,b),c},F:function(a){var b=1;return function(a){if(0>a)return b;for(var c=a;c>0;c--)b*=c}(a),b},Sum:function(a){var b=0;return function(a){for(var c=0,d=a.length;d>c;c++)b+=Number(a[c])}(a),b},Product:function(a){var b=1;return function(a){for(var c=0,d=a.length;d>c;c++)b=b.mul(Number(a[c]))}(a),b},dtC:function(a,b,c){for(var d=this.C(a,c-b.length),e=[],f=0;f<d.length;f++){var g=b.concat(d[f]);e.push(g)}return e}},d.JCZQ_Calc={spCache:{},countCache:{},moneyCache:{},passTypeMap:{"单关":[1],"2串1":[2],"2串3":[2,1],"3串1":[3],"3串3":[2],"3串4":[3,2],"3串7":[3,2,1],"4串1":[4],"4串4":[3],"4串5":[4,3],"4串6":[2],"4串11":[4,3,2],"4串15":[4,3,2,1],"5串1":[5],"5串5":[4],"5串6":[5,4],"5串10":[2],"5串16":[5,4,3],"5串20":[3,2],"5串26":[5,4,3,2],"5串31":[5,4,3,2,1],"6串1":[6],"6串6":[5],"6串7":[6,5],"6串15":[2],"6串20":[3],"6串22":[6,5,4],"6串35":[3,2],"6串42":[6,5,4,3],"6串50":[4,3,2],"6串57":[6,5,4,3,2],"6串63":[6,5,4,3,2,1],"7串1":[7],"7串7":[6],"7串8":[7,6],"7串21":[5],"7串35":[4],"7串120":[7,6,5,4,3,2],"7串127":[7,6,5,4,3,2,1],"8串1":[8],"8串8":[7],"8串9":[8,7],"8串28":[6],"8串56":[5],"8串70":[4],"8串247":[8,7,6,5,4,3,2],"8串255":[8,7,6,5,4,3,2,1],"9串1":[9],"10串1":[10],"11串1":[11],"12串1":[12],"13串1":[13],"14串1":[14],"15串1":[15]},analysisSp:function(a,b,c){var d=a.toString()+"|"+b.toString(),e=this.spCache[d],f=!1;if("undefined"!=typeof e)return e;if(_.some(b,function(b){return 0===a[b].length?(f=!0,!1):void 0}),f)return null;this.reg=c;for(var g,h,i,j=c.length-1,k=c.concat(),l=c.concat(),m=[],n=[],o=[],p=[],q=[],r=[],s=[],t=[],u=0,v=function(a,b){return a-b},w=function(a,b){return b-a},x=0,y=a.length;y>x;x++)g=a[x],h=g.length-1,h>-1&&(i=h===j,_.indexOf(b,x)<0?(l[h]=l[h]+1,i?(o.push(g[0]),s.push(g[h])):(m.push(g[0]),q.push(g[h]))):(k[h]=k[h]+1,i?(p.push(g[0]),t.push(g[h])):(n.push(g[0]),r.push(g[h]))),u++);return m=m.sort(v),n=n.sort(v),o=o.sort(v),p=p.sort(v),q=q.sort(w),r=r.sort(w),s=s.sort(w),t=t.sort(w),this.spCache[d]={minArr:p.concat(n).concat(o).concat(m),maxArr:t.concat(r).concat(s).concat(q),dSpArr:k,tSpArr:l,mustDHitCount:p.length,mustTHitCount:o.length,danCount:p.length+n.length,count:u}},_calBaseCount:function(a,b){var c=0;if(0===a.length||0===b)return 0;var e=a.toString()+"|"+b,f=this.countCache[e];if("number"==typeof f)return f;if(1===b){for(var g=a.length;--g>-1;)c+=a[g]*(g+1);return this.countCache[e]=c}var h=d.Tools.Sum(a);if(h===b){c=1;for(var g=a.length;--g>-1;)c*=Math.pow(g+1,a[g]);return this.countCache[e]=c}for(var g=a.length;--g>-1;)if(a[g]>0){var i=a.concat();return--i[g],c=(g+1)*arguments.callee.apply(this,[i,b-1])+arguments.callee.apply(this,[i,b]),this.countCache[e]=c}return this.countCache[e]=c},calCount:function(a,b,c,d,e){var f=this.analysisSp(b,c,e);return f?this._calCount(a,f.dSpArr,f.tSpArr,d,f.danCount,f.count):0},_calCount:function(a,b,c,d,e,f){var g,h=0;if(_.isArray(d)){for(var i=d.length;--i>-1;)h+=arguments.callee.apply(this,[a,b,c,d[i],e,f]);return h}var j=b.toString()+"|"+c.toString()+"|"+d,k=this.countCache[j];if("undefined"!=typeof k)return k;if(g=isNaN(parseInt(d))?1:parseInt(d),!a&&f>g){for(var l=this.separateArray(c,g-e),i=l.length;--i>-1;)h+=arguments.callee.apply(this,[!0,[],this.addArray(l[i],b),d,0,g]);return this.countCache[j]=h}for(var m=this.passTypeMap[d],n=0,i=m.length;--i>-1;)e>=m[i]?h+=this._calBaseCount(b,m[i]):e<m[i]&&e>0?(n=this._calBaseCount(b,e),h+=n*this._calBaseCount(c,m[i]-e)):h+=this._calBaseCount(c,m[i]);return this.countCache[j]=h},separateArray:function(a,b){for(var c=d.Tools.C(this.transArrayToMatch(a),b),e=[],f=c.length;--f>-1;)e.push(this.transArrayToNum(c[f]));return e},transArrayToMatch:function(a){for(var b=[],c=a.length;--c>-1;)for(var d=a[c];--d>-1;)b.push(c+1);return b},transArrayToNum:function(a){for(var b=this.reg.concat(),c=a.length;--c>-1;)b[a[c]-1]++;return b},addArray:function(a,b){for(var c=Math.max(a.length,b.length),d=[],e=c;--e>-1;)d[e]=this.numFormat(a[e])+this.numFormat(b[e]);return d},numFormat:function(a){return isNaN(a)?0:a},calculateMinAward:function(a,b,c){for(var e,f,g,h,i,j=0,k=this.passTypeMap,l=[],m=0,n=c.length,o=100,p=this.moneyCache;n>m;++m){if(e=k[c[m]],f=e[e.length-1],a)if(o>f)l.length=0,o=f;else if(f>o)continue;l[l.length]=f}for(h=b.toString()+"|min|",m=l.length;--m>-1;)f=l[m],i=h+f+"串1",g=p[i],void 0==g&&a&&(g=p[i]=parseFloat(d.Tools.Product(b.slice(0,f)).toFixed(2))),j+=g;return j},calExtreme:function(a,b,c,d,e){var f,g,h=this.analysisSp(b,c,e);return h?(f=this._calMinExtreme(a,h.minArr,d,h.danCount,h.mustDHitCount,h.mustTHitCount),g=this._calMaxExtreme(a,h.maxArr,d,h.danCount),{min:f,max:g}):0},_calMinExtreme:function(a,b,c,e,f,g){var h,i,j,k,l,m,n;if(_.isArray(c)){if(0==c.length)return"0";var o=this.passTypeMap;c.sort(function(a,b){var c=o[a],d=o[b];return c[c.length-1]-d[d.length-1]}),c=c[0]}var p="min|"+b.toString()+"|"+c+"|"+e+"|"+f+"|"+g,q=this.moneyCache[p];if("undefined"!=typeof q)return q;if(h=b.length,j=this.passTypeMap[c],k=b.slice(0,e),l=b.slice(e),i=j[j.length-1],n=f+g,!a&&b.length>i){var r=Math.min(i,e),s=Math.max(f,i-h+e),t=[];m=d.Tools.dtC(l,k,i);for(var u=s;r>=u;u++){for(var v=0,w=m.length;--w>-1;){var x,y=m[w];i>=n?(x=y.slice(0,u).concat(y.slice(e,e+i-u)),v+=d.Tools.Product(x)):(x=d.Tools.dtC(y.slice(e,e+g),y.slice(0,u),i),_.each(x,function(a){v+=d.Tools.Product(a)}))}t.push(v)}return t=t.sort(function(a,b){return a-b}),this.moneyCache[p]=t[0].toFixed(2)}if(i>=e+g)return m=b.slice(0,i),this.moneyCache[p]=d.Tools.Product(m).toFixed(2);var v=0;return m=b.slice(0,e+g),y=d.Tools.C(m,i),_.each(y,function(a){v+=d.Tools.Product(a)}),this.moneyCache[p]=v.toFixed(2)},_calMaxExtreme:function(a,b,c,e){var f,g,h,i,j,k=0;if(_.isArray(c)){for(var l=c.length;--l>-1;)k+=parseFloat(arguments.callee.apply(this,[a,b,c[l],e]));return k.toFixed(2)}var m="max|"+b.toString()+"|"+c+"|"+e,n=this.moneyCache[m];if("undefined"!=typeof n)return n;if(f=isNaN(parseInt(c))?1:parseInt(c),g=this.passTypeMap[c],h=b.slice(0,e),i=b.slice(e),!a&&b.length>f){j=d.Tools.dtC(i,h,f);for(var l=j.length;--l>-1;)k+=Number(arguments.callee.apply(this,[!0,j[l],c,0]));return this.moneyCache[m]=k.toFixed(2)}for(var l=g.length;--l>-1;){j=d.Tools.dtC(i,h,g[l]);for(var o=j.length;--o>-1;)k+=Number(d.Tools.Product(j[o]).toFixed(2))}return this.moneyCache[m]=k.toFixed(2)}},c.C=d},{}],2:[function(){Date.prototype.Format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a}},{}],3:[function(a,b,c){var d={};Array.prototype.filter=function(a){for(var b=[],c=arguments[1],d=0;d<this.length;d++)a.call(c,this[d])&&b.push(this[d]);return b},d.SBonus={betArray:[],betMap:{},init:function(){for(var a=this.betArray,b=this.betMap,c=0;6>c;c++)for(var d=0;6>d;d++)3==c&&d>3||c>3&&d>2||a.push({name:c+""+d,sum:c+d,diff:Math.abs(c-d),spf:c>d?3:d>c?0:1});for(a.push({name:"90",sum:7,spf:3},{name:"99",sum:7,spf:1},{name:"09",sum:7,spf:0}),c=a.length;c--;){var e=a[c],f={},g=e.sum,h=e.spf;f["bf-"+e.name]=1,f["jqs-"+g]=1,f["spf-"+h]=1,3==h?(g>2&&(f["bqc-03"]=1),f["bqc-13"]=1,f["bqc-33"]=1):1==h?(g>1&&(f["bqc-01"]=1,f["bqc-31"]=1),f["bqc-11"]=1):0==h&&(f["bqc-00"]=1,f["bqc-10"]=1,g>2&&(f["bqc-30"]=1)),b[e.name]=f}},getBonusRange:function(a,b){var c=this.getHitList(a);return{min:this.getMinBonus(c,b),max:this.getMaxBonus(c,b)}},getMinBonus:function(a,b){var c=b.sort()[0].slice(0,1),d=this.sortHitList(a.min,!1);return d.tList=d.tList.slice(0,c-d.dList.length),this.getBonus(d,c)},getMaxBonus:function(a,b){for(var c=this.sortHitList(a.max,!0),d=0,e=0,f=b.length;f>e;e++){var g=Number(b[e].slice(0,1));g=isNaN(g)?1:g,d+=this.getBonus(c,g)}return d},getBonus:function(a,b){var c,d,e,f,g,h=a.dList.length,i=0;h&&(d=this.combine(a.dList)),e=this.combine2(a.tList,b-h),c=h?this.combine([d,e]):e;for(var j=0,k=c.length;k>j;j++){f=c[j].toString().split(","),g=1;for(var l=0,m=f.length;m>l;l++)g*=parseFloat(f[l]);i+=g}return i},sortHitList:function(a,b){var c,d=[],e=[],f=0,g=a.length;for(b=b?-1:1,a.sort(function(a,c){return a.isdan===c.isdan?(a.sum>c.sum?1:-1)*b:a.isdan?-1:1});g>f;f++)c=a[f],c.isdan?d.push(c):e.push(c);return{list:a,dList:d,tList:e}},getHitList:function(a){for(var b,c,d=[],e=[],f=0,g=a.length;g>f;f++)b=a[f],b&&(c=this.getSgBound(b),d.push(c.min),e.push(c.max));return d.sort(function(a,b){return a.sum>b.sum?1:-1}),e.sort(function(a,b){return a.sum>b.sum?-1:1}),{min:d,max:e}},getSgBound:function(a){for(var b,c,d,e,f=this.betArray,g=a.split("|"),h=a.indexOf("D")>-1,i=9e9,j=-1,k=0,l=f.length;l>k;k++){var m,n,o=f[k],p=this.combine(this.filterInvalidOpts(g,o));if(p.length)for(var q=0,r=p.length;r>q;q++){n=p[q],m=0;for(var s=n.length;s--;)n[s]=parseFloat(n[s].split("#")[1])||1,m+=n[s];m>j&&(j=m,c=n.concat(),e=o.name),i>m&&(i=m,b=n.concat(),d=o.name)}}return b.sum=i,b.bf=d,c.sum=j,c.bf=e,b.isdan=c.isdan=h,{min:b,max:c}},filterInvalidOpts:function(a,b){for(var c=this,d=[],e=0,f=a.length;f>e;e++){var g=a[e].split(",").filter(function(a){return c.testByBf(a,b)});g.length&&d.push(g)}return d},testByBf:function(a,b){if(0===a.indexOf("rqspf"))return this.testRqSpfByBf(a,b);var c=this.betMap[b.name];return a.split("#")[0]in c},testRqSpfByBf:function(a,b){var c=parseInt(a.split("#")[0].split("@")[1],10);if(c>0){if("09"==b.name)return 1===c?0===a.indexOf("rqspf-0")||0===a.indexOf("rqspf-1"):0===a.indexOf("rqspf-");if(b.spf<1){if(c<b.diff)return 0===a.indexOf("rqspf-0");if(c===b.diff)return 0===a.indexOf("rqspf-1")}return 0===a.indexOf("rqspf-3")}if(c=Math.abs(c),"90"==b.name)return 1===c?0===a.indexOf("rqspf-3")||0===a.indexOf("rqspf-1"):0===a.indexOf("rqspf-");if(b.spf>0){if(c<b.diff)return 0===a.indexOf("rqspf-3");if(c===b.diff)return 0===a.indexOf("rqspf-1")}return 0===a.indexOf("rqspf-0")},combine:function(a,b){function c(a,d){if(d>=a.length)g&&b(code)===!1||e.push(f.concat()),f.length=d-1;else{for(var h=a[d],i=0,j=h.length;j>i;i++)f.push(h[i]),c(a,d+1);d&&(f.length=d-1)}}var d=0,e=[],f=[],g="function"==typeof b;return a.length&&c(a,d),e},combine2:function(a,b,c){function d(a,e){if(g.length>=b)i&&c(code)===!1||f.push(g.concat()),g.length--;else{for(var j=e;h>j;j++)for(var k=a[j],l=0,m=k.length;m>l;l++)g.push(k[l]),d(a,j+1);e&&g.length--}}var e=0,f=[],g=[],h=a.length,i="function"==typeof c;return h&&h>=b&&d(a,e),f}},Number.prototype.mul=function(a){if(!/\./.test(this)&&!/\./.test(a))return this*a;var b=this,c=a,d=0,e=b.toString(),f=c.toString();return e.indexOf(".")>=0&&(d+=e.split(".")[1].length),f.indexOf(".")>=0&&(d+=f.split(".")[1].length),Number(e.replace(".",""))*Number(f.replace(".",""))/Math.pow(10,d)},d.Tools={C:function(a,b){var c=[];return function d(a,b,e){if(0==e)return c.push(a);for(var f=0,g=b.length;g-e>=f;f++)d(a.concat(b[f]),b.slice(f+1),e-1)}([],a,b),c},P:function(a,b){var c=[];return function d(a,b,e){if(0==e)return c.push(a);for(var f=0,g=b.length;g>f;f++)d(a.concat(b[f]),b.slice(0,f).concat(b.slice(f+1)),e-1)}([],a,b),c},F:function(a){var b=1;return function(a){if(0>a)return b;for(var c=a;c>0;c--)b*=c}(a),b},Sum:function(a){var b=0;return function(a){for(var c=0,d=a.length;d>c;c++)b+=Number(a[c])}(a),b},Product:function(a){var b=1;return function(a){for(var c=0,d=a.length;d>c;c++)b=b.mul(Number(a[c]))}(a),b},dtC:function(a,b,c){for(var d=this.C(a,c-b.length),e=[],f=0;f<d.length;f++){var g=b.concat(d[f]);e.push(g)}return e}},d.SBetCalculator={spCache:{},countCache:{},moneyCache:{},passTypeMap:{"单关":[1],"2串1":[2],"2串3":[2,1],"3串1":[3],"3串3":[2],"3串4":[3,2],"3串7":[3,2,1],"4串1":[4],"4串4":[3],"4串5":[4,3],"4串6":[2],"4串11":[4,3,2],"4串15":[4,3,2,1],"5串1":[5],"5串5":[4],"5串6":[5,4],"5串10":[2],"5串16":[5,4,3],"5串20":[3,2],"5串26":[5,4,3,2],"5串31":[5,4,3,2,1],"6串1":[6],"6串6":[5],"6串7":[6,5],"6串15":[2],"6串20":[3],"6串22":[6,5,4],"6串35":[3,2],"6串42":[6,5,4,3],"6串50":[4,3,2],"6串57":[6,5,4,3,2],"6串63":[6,5,4,3,2,1],"7串1":[7],"7串7":[6],"7串8":[7,6],"7串21":[5],"7串35":[4],"7串120":[7,6,5,4,3,2],"7串127":[7,6,5,4,3,2,1],"8串1":[8],"8串8":[7],"8串9":[8,7],"8串28":[6],"8串56":[5],"8串70":[4],"8串247":[8,7,6,5,4,3,2],"8串255":[8,7,6,5,4,3,2,1],"9串1":[9],"10串1":[10],"11串1":[11],"12串1":[12],"13串1":[13],"14串1":[14],"15串1":[15]},analysisSp:function(a,b,c){var d=a.toString()+"|"+b.toString(),e=this.spCache[d],f=!1;if("undefined"!=typeof e)return e;if(_.some(b,function(b){return 0===a[b].length?(f=!0,!1):void 0}),f)return null;this.reg=c;for(var g,h,i,j=c.length-1,k=c.concat(),l=c.concat(),m=[],n=[],o=[],p=[],q=[],r=[],s=[],t=[],u=0,v=function(a,b){return a-b},w=function(a,b){return b-a},x=0,y=a.length;y>x;x++)g=a[x],h=g.length-1,h>-1&&(i=h===j,_.indexOf(b,x)<0?(l[h]=l[h]+1,i?(o.push(g[0]),s.push(g[h])):(m.push(g[0]),q.push(g[h]))):(k[h]=k[h]+1,i?(p.push(g[0]),t.push(g[h])):(n.push(g[0]),r.push(g[h]))),u++);return m=m.sort(v),n=n.sort(v),o=o.sort(v),p=p.sort(v),q=q.sort(w),r=r.sort(w),s=s.sort(w),t=t.sort(w),this.spCache[d]={minArr:p.concat(n).concat(o).concat(m),maxArr:t.concat(r).concat(s).concat(q),dSpArr:k,tSpArr:l,mustDHitCount:p.length,mustTHitCount:o.length,danCount:p.length+n.length,count:u}},_calBaseCount:function(a,b){var c=0;if(0===a.length||0===b)return 0;var e=a.toString()+"|"+b,f=this.countCache[e];if("number"==typeof f)return f;if(1===b){for(var g=a.length;--g>-1;)c+=a[g]*(g+1);return this.countCache[e]=c}var h=d.Tools.Sum(a);if(h===b){c=1;for(var g=a.length;--g>-1;)c*=Math.pow(g+1,a[g]);return this.countCache[e]=c}for(var g=a.length;--g>-1;)if(a[g]>0){var i=a.concat();return--i[g],c=(g+1)*arguments.callee.apply(this,[i,b-1])+arguments.callee.apply(this,[i,b]),this.countCache[e]=c}return this.countCache[e]=c},calCount:function(a,b,c,d,e){var f=this.analysisSp(b,c,e);return f?this._calCount(a,f.dSpArr,f.tSpArr,d,f.danCount,f.count):0},_calCount:function(a,b,c,d,e,f){var g,h=0;if(_.isArray(d)){for(var i=d.length;--i>-1;)h+=arguments.callee.apply(this,[a,b,c,d[i],e,f]);return h}var j=b.toString()+"|"+c.toString()+"|"+d,k=this.countCache[j];if("undefined"!=typeof k)return k;if(g=isNaN(parseInt(d))?1:parseInt(d),!a&&f>g){for(var l=this.separateArray(c,g-e),i=l.length;--i>-1;)h+=arguments.callee.apply(this,[!0,[],this.addArray(l[i],b),d,0,g]);return this.countCache[j]=h}for(var m=this.passTypeMap[d],n=0,i=m.length;--i>-1;)e>=m[i]?h+=this._calBaseCount(b,m[i]):e<m[i]&&e>0?(n=this._calBaseCount(b,e),h+=n*this._calBaseCount(c,m[i]-e)):h+=this._calBaseCount(c,m[i]);return this.countCache[j]=h},separateArray:function(a,b){for(var c=d.Tools.C(this.transArrayToMatch(a),b),e=[],f=c.length;--f>-1;)e.push(this.transArrayToNum(c[f]));return e},transArrayToMatch:function(a){for(var b=[],c=a.length;--c>-1;)for(var d=a[c];--d>-1;)b.push(c+1);return b},transArrayToNum:function(a){for(var b=this.reg.concat(),c=a.length;--c>-1;)b[a[c]-1]++;return b},addArray:function(a,b){for(var c=Math.max(a.length,b.length),d=[],e=c;--e>-1;)d[e]=this.numFormat(a[e])+this.numFormat(b[e]);return d},numFormat:function(a){return isNaN(a)?0:a}},d.hhcalc={unitBonus:!0,unitMoney:2,awardPercentage:.65,analysisSp:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=["3","1","0","3","1","0","10","20","21","30","31","32","40","41","42","50","51","52","90","00","11","22","33","99","01","02","12","03","13","23","04","14","24","05","15","25","09","0","1","2","3","4","5","6","7","33","31","30","13","11","10","03","01","00"],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[];for(p=a.length;--p>-1;)if(isMust=!1,e=A[p]=[],f=B[p]=[],g=C[p]=[],h=D[p]=[],i=E[p]=[],j=F[p]=[],c=a[p],d=c,d.length>0){for(v=[],k=[],l=[],m=[],n=[],o=[],q=-1;++q<d.length;)r=d[q][0],s=d[q][1],e[q]=s,w=x[r],r>=0&&2>=r?(f.push(s),k.push("spf-"+w+"#"+s)):r>=3&&5>=r?(g.push(s),l.push("rqspf-"+w+"@"+d[q][2]+"#"+s)):r>=6&&36>=r?(h.push(s),m.push("bf-"+w+"#"+s)):r>=37&&44>=r?(i.push(s),n.push("jqs-"+w+"#"+s)):(j.push(s),o.push("bqc-"+w+"#"+s));t=_.indexOf(b,p)>=0,k.length&&v.push(k.join(",")),l.length&&v.push(l.join(",")),m.length&&v.push(m.join(",")),n.length&&v.push(n.join(",")),o.length&&v.push(o.join(",")),y.push(v.join("|")+(t?"D":"")),z[z.length]=u}return{_spSelected:z,spSelected:A,spfSpSelected:B,rqspfSpSelected:C,bfSpSelected:D,jqsSpSelected:E,bqcSpSelected:F,betOptions:y}},calculateBet:function(a,b,c,e){var f,g,h=0,i=0,j=0,k=d.SBonus;return k.init(),a.length>=2&&c.length&&(g=this.analysisSp(a,b),h=this.getBetCount(a,b,c,g,e),f=k.getBonusRange(g.betOptions,c),i=f.min.toFixed(2),j=f.max.toFixed(2)),{count:h,min:i,max:j}},getBetCount:function(a,b,c,e,f){var g=d.SBetCalculator;return g.calCount(!0,e.spSelected,b,c,f)}},c.C=d},{}],4:[function(a,b){!function(a,c,d){function e(a,b,d){this.wrapper="string"==typeof a?c.querySelector(a):a,this.scroller=d||this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!1,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var e in b)this.options[e]=b[e];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var f=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},g=function(){function b(a){return g===!1?!1:""===g?a:g+a.charAt(0).toUpperCase()+a.substr(1)}var e={},f=c.createElement("div").style,g=function(){for(var a,b=["t","webkitT","MozT","msT","OT"],c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}();e.getTime=Date.now||function(){return(new Date).getTime()},e.extend=function(a,b){for(var c in b)a[c]=b[c]},e.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},e.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},e.prefixPointerEvent=function(b){return a.MSPointerEvent?"MSPointer"+b.charAt(9).toUpperCase()+b.substr(10):b},e.momentum=function(a,b,c,e,f,g){var h,i,j=a-b,k=d.abs(j)/c;return g=void 0===g?6e-4:g,h=a+k*k/(2*g)*(0>j?-1:1),i=k/g,e>h?(h=f?e-f/2.5*(k/8):e,j=d.abs(h-a),i=j/k):h>0&&(h=f?f/2.5*(k/8):0,j=d.abs(a)+h,i=j/k),{destination:d.round(h),duration:i}};var h=b("transform");return e.extend(e,{hasTransform:h!==!1,hasPerspective:b("perspective")in f,hasTouch:"ontouchstart"in a,hasPointer:a.PointerEvent||a.MSPointerEvent,hasTransition:b("transition")in f}),e.isBadAndroid=/Android /.test(a.navigator.appVersion)&&!/Chrome\/\d/.test(a.navigator.appVersion),e.extend(e.style={},{transform:h,transitionTimingFunction:b("transitionTimingFunction"),transitionDuration:b("transitionDuration"),transitionDelay:b("transitionDelay"),transformOrigin:b("transformOrigin")}),e.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},e.addClass=function(a,b){if(!e.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},e.removeClass=function(a,b){if(e.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},e.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},e.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},e.extend(e.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),e.extend(e.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return d.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,c=.4;return 0===a?0:1==a?1:c*d.pow(2,-10*a)*d.sin(2*(a-b/4)*d.PI/b)+1}}}),e.tap=function(a,b){var d=c.createEvent("Event");d.initEvent(b,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},e.click=function(a){var b,d=a.target;/(SELECT|INPUT|TEXTAREA)/i.test(d.tagName)||(b=c.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),b._constructed=!0,d.dispatchEvent(b))},e}();e.prototype={version:"5.1.2",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(a){if(!(1!=g.eventType[a.type]&&0!==a.button||!this.enabled||this.initiated&&g.eventType[a.type]!==this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var b,c=a.touches?a.touches[0]:a;this.initiated=g.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,b=this.getComputedPosition(),this._translate(d.round(b.x),d.round(b.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=c.pageX,this.pointY=c.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var b,c,e,f,h=a.touches?a.touches[0]:a,i=h.pageX-this.pointX,j=h.pageY-this.pointY,k=g.getTime();if(this.pointX=h.pageX,this.pointY=h.pageY,this.distX+=i,this.distY+=j,e=d.abs(this.distX),f=d.abs(this.distY),!(k-this.endTime>300&&10>e&&10>f)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=e>f+this.options.directionLockThreshold?"h":f>=e+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);j=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);i=0}i=this.hasHorizontalScroll?i:0,j=this.hasVerticalScroll?j:0,b=this.x+i,c=this.y+j,(b>0||b<this.maxScrollX)&&(b=this.options.bounce?this.x+i/3:b>0?0:this.maxScrollX),(c>0||c<this.maxScrollY)&&(c=this.options.bounce?this.y+j/3:c>0?0:this.maxScrollY),this.directionX=i>0?-1:0>i?1:0,this.directionY=j>0?-1:0>j?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(b,c),k-this.startTime>300&&(this.startTime=k,this.startX=this.x,this.startY=this.y)}}},_end:function(a){if(this.enabled&&g.eventType[a.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var b,c,e=(a.changedTouches?a.changedTouches[0]:a,g.getTime()-this.startTime),f=d.round(this.x),h=d.round(this.y),i=d.abs(f-this.startX),j=d.abs(h-this.startY),k=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime))return this.scrollTo(f,h),this.moved?this._events.flick&&200>e&&100>i&&100>j?void this._execEvent("flick"):(this.options.momentum&&300>e&&(b=this.hasHorizontalScroll?g.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:f,duration:0},c=this.hasVerticalScroll?g.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:h,duration:0},f=b.destination,h=c.destination,k=d.max(b.duration,c.duration),this.isInTransition=1),f!=this.x||h!=this.y?((f>0||f<this.maxScrollX||h>0||h<this.maxScrollY)&&(l=g.ease.quadratic),void this.scrollTo(f,h,k,l)):void this._execEvent("scrollEnd")):(this.options.tap&&g.tap(a,this.options.tap),this.options.click&&g.click(a),void this._execEvent("scrollCancel"))}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),b==this.x&&c==this.y?!1:(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},off:function(a,b){if(this._events[a]){var c=this._events[a].indexOf(b);c>-1&&this._events[a].splice(c,1)}},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;c>b;b++)this._events[a][b].apply(this,[].slice.call(arguments,1))}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||g.ease.circular,this.isInTransition=this.options.useTransition&&c>0,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn)},scrollToElement:function(a,b,c,e,f){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=g.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,c===!0&&(c=d.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),e===!0&&(e=d.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=c||0,h.top-=e||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||"auto"===b?d.max(d.abs(this.x-h.left),d.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,f)}},_transitionTime:function(a){a=a||0,this.scrollerStyle[g.style.transitionDuration]=a+"ms",!a&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(a){this.scrollerStyle[g.style.transitionTimingFunction]=a},_translate:function(a,b){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=d.round(a),b=d.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b},_initEvents:function(b){var c=b?g.removeEvent:g.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(c(this.wrapper,g.prefixPointerEvent("pointerdown"),this),c(d,g.prefixPointerEvent("pointermove"),this),c(d,g.prefixPointerEvent("pointercancel"),this),c(d,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var b,c,d=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(d=d[g.style.transform].split(")")[0].split(", "),b=+(d[12]||d[4]),c=+(d[13]||d[5])):(b=+d.left.replace(/[^-\d.]/g,""),c=+d.top.replace(/[^-\d.]/g,"")),{x:b,y:c}},_animate:function(a,b,c,d){function e(){var m,n,o,p=g.getTime();return p>=l?(h.isAnimating=!1,h._translate(a,b),void(h.resetPosition(h.options.bounceTime)||h._execEvent("scrollEnd"))):(p=(p-k)/c,o=d(p),m=(a-i)*o+i,n=(b-j)*o+j,h._translate(m,n),void(h.isAnimating&&f(e)))}var h=this,i=this.x,j=this.y,k=g.getTime(),l=k+c;this.isAnimating=!0,e()},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())
}}},e.utils=g,"undefined"!=typeof b&&b.exports?b.exports=e:a.IScroll=e}(window,document,Math)},{}],5:[function(a,b){!function(a,c){function d(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var e=Math,f=c.createElement("div").style,g=function(){for(var a,b="t,webkitT,MozT,msT,OT".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=d("transform"),j=d("transitionProperty"),k=d("transitionDuration"),l=d("transformOrigin"),m=d("transitionTimingFunction"),n=d("transitionDelay"),o=/android/gi.test(navigator.appVersion),p=/iphone|ipad/gi.test(navigator.appVersion),q=/hp-tablet/gi.test(navigator.appVersion),r=d("perspective")in f,s="ontouchstart"in a&&!q,t=g!==!1,u=d("transition")in f,v="onorientationchange"in a?"orientationchange":"resize",w=s?"touchstart":"mousedown",x=s?"touchmove":"mousemove",y=s?"touchend":"mouseup",z=s?"touchcancel":"mouseup",A=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),B=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),C=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),D=r?" translateZ(0)":"",E=function(b,d){var e,f=this;f.wrapper="object"==typeof b?b:c.getElementById(b),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:o,hideScrollbar:p,fadeScrollbar:p&&r,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=t&&f.options.useTransform,f.options.hScrollbar=f.options.hScroll&&f.options.hScrollbar,f.options.vScrollbar=f.options.vScroll&&f.options.vScrollbar,f.options.zoom=f.options.useTransform&&f.options.zoom,f.options.useTransition=u&&f.options.useTransition,f.options.zoom&&o&&(D=""),f.scroller.style[j]=f.options.useTransform?h+"transform":"top left",f.scroller.style[k]="0",f.scroller.style[l]="0 0",f.options.useTransition&&(f.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+D:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.options.useTransition&&(f.options.fixedScrollbar=!0),f.refresh(),f._bind(v,a),f._bind(w),s||"none"!=f.options.wheelAction&&(f._bind("DOMMouseScroll"),f._bind("mousewheel")),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){var b=this;switch(a.type){case w:if(!s&&0!==a.button)return;b._start(a);break;case x:b._move(a);break;case y:case z:b._end(a);break;case v:b._resize();break;case"DOMMouseScroll":case"mousewheel":b._wheel(a);break;case A:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(a){var b,d=this;return d[a+"Scrollbar"]?(d[a+"ScrollbarWrapper"]||(b=c.createElement("div"),d.options.scrollbarClass?b.className=d.options.scrollbarClass+a.toUpperCase():b.style.cssText="position:absolute;z-index:100;"+("h"==a?"height:7px;bottom:1px;left:2px;right:"+(d.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(d.hScrollbar?"7":"2")+"px;top:2px;right:1px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:opacity;"+h+"transition-duration:"+(d.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(d.options.hideScrollbar?"0":"1"),d.wrapper.appendChild(b),d[a+"ScrollbarWrapper"]=b,b=c.createElement("div"),d.options.scrollbarClass||(b.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+h+"background-clip:padding-box;"+h+"box-sizing:border-box;"+("h"==a?"height:100%":"width:100%")+";"+h+"border-radius:3px;border-radius:3px"),b.style.cssText+=";pointer-events:none;"+h+"transition-property:"+h+"transform;"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+h+"transition-duration:0;"+h+"transform: translate(0,0)"+D,d.options.useTransition&&(b.style.cssText+=";"+h+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),d[a+"ScrollbarWrapper"].appendChild(b),d[a+"ScrollbarIndicator"]=b),"h"==a?(d.hScrollbarSize=d.hScrollbarWrapper.clientWidth,d.hScrollbarIndicatorSize=e.max(e.round(d.hScrollbarSize*d.hScrollbarSize/d.scrollerW),8),d.hScrollbarIndicator.style.width=d.hScrollbarIndicatorSize+"px",d.hScrollbarMaxScroll=d.hScrollbarSize-d.hScrollbarIndicatorSize,d.hScrollbarProp=d.hScrollbarMaxScroll/d.maxScrollX):(d.vScrollbarSize=d.vScrollbarWrapper.clientHeight,d.vScrollbarIndicatorSize=e.max(e.round(d.vScrollbarSize*d.vScrollbarSize/d.scrollerH),8),d.vScrollbarIndicator.style.height=d.vScrollbarIndicatorSize+"px",d.vScrollbarMaxScroll=d.vScrollbarSize-d.vScrollbarIndicatorSize,d.vScrollbarProp=d.vScrollbarMaxScroll/d.maxScrollY),void d._scrollbarPos(a,!0)):void(d[a+"ScrollbarWrapper"]&&(t&&(d[a+"ScrollbarIndicator"].style[i]=""),d[a+"ScrollbarWrapper"].parentNode.removeChild(d[a+"ScrollbarWrapper"]),d[a+"ScrollbarWrapper"]=null,d[a+"ScrollbarIndicator"]=null))},_resize:function(){var a=this;setTimeout(function(){a.refresh()},o?200:0)},_pos:function(a,b){this.zoomed||(a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+D:(a=e.round(a),b=e.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(a,b){var c,d=this,f="h"==a?d.x:d.y;d[a+"Scrollbar"]&&(f=d[a+"ScrollbarProp"]*f,0>f?(d.options.fixedScrollbar||(c=d[a+"ScrollbarIndicatorSize"]+e.round(3*f),8>c&&(c=8),d[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px"),f=0):f>d[a+"ScrollbarMaxScroll"]&&(d.options.fixedScrollbar?f=d[a+"ScrollbarMaxScroll"]:(c=d[a+"ScrollbarIndicatorSize"]-e.round(3*(f-d[a+"ScrollbarMaxScroll"])),8>c&&(c=8),d[a+"ScrollbarIndicator"].style["h"==a?"width":"height"]=c+"px",f=d[a+"ScrollbarMaxScroll"]+(d[a+"ScrollbarIndicatorSize"]-c))),d[a+"ScrollbarWrapper"].style[n]="0",d[a+"ScrollbarWrapper"].style.opacity=b&&d.options.hideScrollbar?"0":"1",d[a+"ScrollbarIndicator"].style[i]="translate("+("h"==a?f+"px,0)":"0,"+f+"px)")+D)},_start:function(b){var c,d,f,g,h,j=this,k=s?b.touches[0]:b;j.enabled&&(j.options.onBeforeScrollStart&&j.options.onBeforeScrollStart.call(j,b),(j.options.useTransition||j.options.zoom)&&j._transitionTime(0),j.moved=!1,j.animating=!1,j.zoomed=!1,j.distX=0,j.distY=0,j.absDistX=0,j.absDistY=0,j.dirX=0,j.dirY=0,j.options.zoom&&s&&b.touches.length>1&&(g=e.abs(b.touches[0].pageX-b.touches[1].pageX),h=e.abs(b.touches[0].pageY-b.touches[1].pageY),j.touchesDistStart=e.sqrt(g*g+h*h),j.originX=e.abs(b.touches[0].pageX+b.touches[1].pageX-2*j.wrapperOffsetLeft)/2-j.x,j.originY=e.abs(b.touches[0].pageY+b.touches[1].pageY-2*j.wrapperOffsetTop)/2-j.y,j.options.onZoomStart&&j.options.onZoomStart.call(j,b)),j.options.momentum&&(j.options.useTransform?(c=getComputedStyle(j.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),d=+(c[12]||c[4]),f=+(c[13]||c[5])):(d=+getComputedStyle(j.scroller,null).left.replace(/[^0-9-]/g,""),f=+getComputedStyle(j.scroller,null).top.replace(/[^0-9-]/g,"")),(d!=j.x||f!=j.y)&&(j.options.useTransition?j._unbind(A):C(j.aniTime),j.steps=[],j._pos(d,f),j.options.onScrollEnd&&j.options.onScrollEnd.call(j))),j.absStartX=j.x,j.absStartY=j.y,j.startX=j.x,j.startY=j.y,j.pointX=k.pageX,j.pointY=k.pageY,j.startTime=b.timeStamp||Date.now(),j.options.onScrollStart&&j.options.onScrollStart.call(j,b),j._bind(x,a),j._bind(y,a),j._bind(z,a))},_move:function(a){var b,c,d,f=this,g=s?a.touches[0]:a,h=g.pageX-f.pointX,j=g.pageY-f.pointY,k=f.x+h,l=f.y+j,m=a.timeStamp||Date.now();return f.options.onBeforeScrollMove&&f.options.onBeforeScrollMove.call(f,a),f.options.zoom&&s&&a.touches.length>1?(b=e.abs(a.touches[0].pageX-a.touches[1].pageX),c=e.abs(a.touches[0].pageY-a.touches[1].pageY),f.touchesDist=e.sqrt(b*b+c*c),f.zoomed=!0,d=1/f.touchesDistStart*f.touchesDist*this.scale,d<f.options.zoomMin?d=.5*f.options.zoomMin*Math.pow(2,d/f.options.zoomMin):d>f.options.zoomMax&&(d=2*f.options.zoomMax*Math.pow(.5,f.options.zoomMax/d)),f.lastScale=d/this.scale,k=this.originX-this.originX*f.lastScale+this.x,l=this.originY-this.originY*f.lastScale+this.y,this.scroller.style[i]="translate("+k+"px,"+l+"px) scale("+d+")"+D,void(f.options.onZoom&&f.options.onZoom.call(f,a))):(f.pointX=g.pageX,f.pointY=g.pageY,(k>0||k<f.maxScrollX)&&(k=f.options.bounce?f.x+h/2:k>=0||f.maxScrollX>=0?0:f.maxScrollX),(l>f.minScrollY||l<f.maxScrollY)&&(l=f.options.bounce?f.y+j/2:l>=f.minScrollY||f.maxScrollY>=0?f.minScrollY:f.maxScrollY),f.distX+=h,f.distY+=j,f.absDistX=e.abs(f.distX),f.absDistY=e.abs(f.distY),void(f.absDistX<6&&f.absDistY<6||(f.options.lockDirection&&(f.absDistX>f.absDistY+5?(l=f.y,j=0):f.absDistY>f.absDistX+5&&(k=f.x,h=0)),f.moved=!0,f._pos(k,l),f.dirX=h>0?-1:0>h?1:0,f.dirY=j>0?-1:0>j?1:0,m-f.startTime>300&&(f.startTime=m,f.startX=f.x,f.startY=f.y),f.options.onScrollMove&&f.options.onScrollMove.call(f,a))))},_end:function(b){if(!s||0===b.touches.length){var d,f,g,h,j,l,m,n=this,o=s?b.changedTouches[0]:b,p={dist:0,time:0},q={dist:0,time:0},r=(b.timeStamp||Date.now())-n.startTime,t=n.x,u=n.y;if(n._unbind(x,a),n._unbind(y,a),n._unbind(z,a),n.options.onBeforeScrollEnd&&n.options.onBeforeScrollEnd.call(n,b),n.zoomed)return m=n.scale*n.lastScale,m=Math.max(n.options.zoomMin,m),m=Math.min(n.options.zoomMax,m),n.lastScale=m/n.scale,n.scale=m,n.x=n.originX-n.originX*n.lastScale+n.x,n.y=n.originY-n.originY*n.lastScale+n.y,n.scroller.style[k]="200ms",n.scroller.style[i]="translate("+n.x+"px,"+n.y+"px) scale("+n.scale+")"+D,n.zoomed=!1,n.refresh(),void(n.options.onZoomEnd&&n.options.onZoomEnd.call(n,b));if(!n.moved)return s&&(n.doubleTapTimer&&n.options.zoom?(clearTimeout(n.doubleTapTimer),n.doubleTapTimer=null,n.options.onZoomStart&&n.options.onZoomStart.call(n,b),n.zoom(n.pointX,n.pointY,1==n.scale?n.options.doubleTapZoom:1),n.options.onZoomEnd&&setTimeout(function(){n.options.onZoomEnd.call(n,b)},200)):this.options.handleClick&&(n.doubleTapTimer=setTimeout(function(){for(n.doubleTapTimer=null,d=o.target;1!=d.nodeType;)d=d.parentNode;"SELECT"!=d.tagName&&"INPUT"!=d.tagName&&"TEXTAREA"!=d.tagName&&(f=c.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,b.view,1,o.screenX,o.screenY,o.clientX,o.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),f._fake=!0,d.dispatchEvent(f))},n.options.zoom?250:0))),n._resetPos(400),void(n.options.onTouchEnd&&n.options.onTouchEnd.call(n,b));if(300>r&&n.options.momentum&&(p=t?n._momentum(t-n.startX,r,-n.x,n.scrollerW-n.wrapperW+n.x,n.options.bounce?n.wrapperW:0):p,q=u?n._momentum(u-n.startY,r,-n.y,n.maxScrollY<0?n.scrollerH-n.wrapperH+n.y-n.minScrollY:0,n.options.bounce?n.wrapperH:0):q,t=n.x+p.dist,u=n.y+q.dist,(n.x>0&&t>0||n.x<n.maxScrollX&&t<n.maxScrollX)&&(p={dist:0,time:0}),(n.y>n.minScrollY&&u>n.minScrollY||n.y<n.maxScrollY&&u<n.maxScrollY)&&(q={dist:0,time:0})),p.dist||q.dist)return j=e.max(e.max(p.time,q.time),10),n.options.snap&&(g=t-n.absStartX,h=u-n.absStartY,e.abs(g)<n.options.snapThreshold&&e.abs(h)<n.options.snapThreshold?n.scrollTo(n.absStartX,n.absStartY,200):(l=n._snap(t,u),t=l.x,u=l.y,j=e.max(l.time,j))),n.scrollTo(e.round(t),e.round(u),j),void(n.options.onTouchEnd&&n.options.onTouchEnd.call(n,b));if(n.options.snap)return g=t-n.absStartX,h=u-n.absStartY,e.abs(g)<n.options.snapThreshold&&e.abs(h)<n.options.snapThreshold?n.scrollTo(n.absStartX,n.absStartY,200):(l=n._snap(n.x,n.y),(l.x!=n.x||l.y!=n.y)&&n.scrollTo(l.x,l.y,l.time)),void(n.options.onTouchEnd&&n.options.onTouchEnd.call(n,b));n._resetPos(200),n.options.onTouchEnd&&n.options.onTouchEnd.call(n,b)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b)),b.hScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.hScrollbarWrapper.style[n]="300ms"),b.hScrollbarWrapper.style.opacity="0"),void(b.vScrollbar&&b.options.hideScrollbar&&("webkit"==g&&(b.vScrollbarWrapper.style[n]="300ms"),b.vScrollbarWrapper.style.opacity="0"))):void b.scrollTo(c,d,a||0)},_wheel:function(a){var b,c,d,e,f,g=this;if("wheelDeltaX"in a)b=a.wheelDeltaX/12,c=a.wheelDeltaY/12;else if("wheelDelta"in a)b=c=a.wheelDelta/12;else{if(!("detail"in a))return;b=c=3*-a.detail}return"zoom"==g.options.wheelAction?(f=g.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),f<g.options.zoomMin&&(f=g.options.zoomMin),f>g.options.zoomMax&&(f=g.options.zoomMax),void(f!=g.scale&&(!g.wheelZoomCount&&g.options.onZoomStart&&g.options.onZoomStart.call(g,a),g.wheelZoomCount++,g.zoom(a.pageX,a.pageY,f,400),setTimeout(function(){g.wheelZoomCount--,!g.wheelZoomCount&&g.options.onZoomEnd&&g.options.onZoomEnd.call(g,a)},400)))):(d=g.x+b,e=g.y+c,d>0?d=0:d<g.maxScrollX&&(d=g.maxScrollX),e>g.minScrollY?e=g.minScrollY:e<g.maxScrollY&&(e=g.maxScrollY),void(g.maxScrollY<0&&g.scrollTo(d,e,0)))},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(A),b._startAni())},_startAni:function(){var a,b,c,d=this,f=d.x,g=d.y,h=Date.now();if(!d.animating){if(!d.steps.length)return void d._resetPos(400);if(a=d.steps.shift(),a.x==f&&a.y==g&&(a.time=0),d.animating=!0,d.moved=!0,d.options.useTransition)return d._transitionTime(a.time),d._pos(a.x,a.y),d.animating=!1,void(a.time?d._bind(A):d._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(d._pos(a.x,a.y),d.animating=!1,d.options.onAnimationEnd&&d.options.onAnimationEnd.call(d),void d._startAni()):(k=(k-h)/a.time-1,b=e.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,d._pos(i,j),void(d.animating&&(d.aniTime=B(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a,this.hScrollbar&&(this.hScrollbarIndicator.style[k]=a),this.vScrollbar&&(this.vScrollbarIndicator.style[k]=a)},_momentum:function(a,b,c,d,f){var g=6e-4,h=e.abs(a)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>d&&(k=f/(6/(i/h*g)),d+=k,h=h*d/i,i=d),i*=0>a?-1:1,j=h/g,{dist:i,time:e.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_snap:function(a,b){var c,d,f,g,h,i,j=this;for(f=j.pagesX.length-1,c=0,d=j.pagesX.length;d>c;c++)if(a>=j.pagesX[c]){f=c;break}for(f==j.currPageX&&f>0&&j.dirX<0&&f--,a=j.pagesX[f],h=e.abs(a-j.pagesX[j.currPageX]),h=h?e.abs(j.x-a)/h*500:0,j.currPageX=f,f=j.pagesY.length-1,c=0;f>c;c++)if(b>=j.pagesY[c]){f=c;break}return f==j.currPageY&&f>0&&j.dirY<0&&f--,b=j.pagesY[f],i=e.abs(b-j.pagesY[j.currPageY]),i=i?e.abs(j.y-b)/i*500:0,j.currPageY=f,g=e.round(e.max(h,i))||200,{x:a,y:b,time:g}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[i]="",b.hScrollbar=!1,b.vScrollbar=!1,b._scrollbar("h"),b._scrollbar("v"),b._unbind(v,a),b._unbind(w),b._unbind(x,a),b._unbind(y,a),b._unbind(z,a),b.options.hasTouch||(b._unbind("DOMMouseScroll"),b._unbind("mousewheel")),b.options.useTransition&&b._unbind(A),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b)},refresh:function(){var a,b,c,d,f=this,g=0,h=0;if(f.scale<f.options.zoomMin&&(f.scale=f.options.zoomMin),f.wrapperW=f.wrapper.clientWidth||1,f.wrapperH=f.wrapper.clientHeight||1,f.minScrollY=-f.options.topOffset||0,f.scrollerW=e.round(f.scroller.offsetWidth*f.scale),f.scrollerH=e.round((f.scroller.offsetHeight+f.minScrollY)*f.scale),f.maxScrollX=f.wrapperW-f.scrollerW,f.maxScrollY=f.wrapperH-f.scrollerH+f.minScrollY,f.dirX=0,f.dirY=0,f.options.onRefresh&&f.options.onRefresh.call(f),f.hScroll=f.options.hScroll&&f.maxScrollX<0,f.vScroll=f.options.vScroll&&(!f.options.bounceLock&&!f.hScroll||f.scrollerH>f.wrapperH),f.hScrollbar=f.hScroll&&f.options.hScrollbar,f.vScrollbar=f.vScroll&&f.options.vScrollbar&&f.scrollerH>f.wrapperH,a=f._offset(f.wrapper),f.wrapperOffsetLeft=-a.left,f.wrapperOffsetTop=-a.top,"string"==typeof f.options.snap)for(f.pagesX=[],f.pagesY=[],d=f.scroller.querySelectorAll(f.options.snap),b=0,c=d.length;c>b;b++)g=f._offset(d[b]),g.left+=f.wrapperOffsetLeft,g.top+=f.wrapperOffsetTop,f.pagesX[b]=g.left<f.maxScrollX?f.maxScrollX:g.left*f.scale,f.pagesY[b]=g.top<f.maxScrollY?f.maxScrollY:g.top*f.scale;else if(f.options.snap){for(f.pagesX=[];g>=f.maxScrollX;)f.pagesX[h]=g,g-=f.wrapperW,h++;for(f.maxScrollX%f.wrapperW&&(f.pagesX[f.pagesX.length]=f.maxScrollX-f.pagesX[f.pagesX.length-1]+f.pagesX[f.pagesX.length-1]),g=0,h=0,f.pagesY=[];g>=f.maxScrollY;)f.pagesY[h]=g,g-=f.wrapperH,h++;f.maxScrollY%f.wrapperH&&(f.pagesY[f.pagesY.length]=f.maxScrollY-f.pagesY[f.pagesY.length-1]+f.pagesY[f.pagesY.length-1])}f._scrollbar("h"),f._scrollbar("v"),f.zoomed||(f.scroller.style[k]="0",f._resetPos(400))},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,d=this;a=a.nodeType?a:d.scroller.querySelector(a),a&&(c=d._offset(a),c.left+=d.wrapperOffsetLeft,c.top+=d.wrapperOffsetTop,c.left=c.left>0?0:c.left<d.maxScrollX?d.maxScrollX:c.left,c.top=c.top>d.minScrollY?d.minScrollY:c.top<d.maxScrollY?d.maxScrollY:c.top,b=void 0===b?e.max(2*e.abs(c.left),2*e.abs(c.top)):b,d.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onScrollStart&&f.options.onScrollStart.call(f),f.options.snap?(a="next"==a?f.currPageX+1:"prev"==a?f.currPageX-1:a,b="next"==b?f.currPageY+1:"prev"==b?f.currPageY-1:b,a=0>a?0:a>f.pagesX.length-1?f.pagesX.length-1:a,b=0>b?0:b>f.pagesY.length-1?f.pagesY.length-1:b,f.currPageX=a,f.currPageY=b,d=f.pagesX[a],e=f.pagesY[b]):(d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY)),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(x,a),this._unbind(y,a),this._unbind(z,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(A):C(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(a,b,c,d){var e=this,f=c/e.scale;e.options.useTransform&&(e.zoomed=!0,d=void 0===d?200:d,a=a-e.wrapperOffsetLeft-e.x,b=b-e.wrapperOffsetTop-e.y,e.x=a-a*f+e.x,e.y=b-b*f+e.y,e.scale=c,e.refresh(),e.x=e.x>0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,e.y=e.y>e.minScrollY?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y,e.scroller.style[k]=d+"ms",e.scroller.style[i]="translate("+e.x+"px,"+e.y+"px) scale("+c+")"+D,e.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},f=null,b.exports=E}(window,document)},{}],6:[function(a,b,c){var d={};Number.prototype.mul=function(a){if(!/\./.test(this)&&!/\./.test(a))return this*a;var b=this,c=a,d=0,e=b.toString(),f=c.toString();return e.indexOf(".")>=0&&(d+=e.split(".")[1].length),f.indexOf(".")>=0&&(d+=f.split(".")[1].length),Number(e.replace(".",""))*Number(f.replace(".",""))/Math.pow(10,d)},Number.prototype.add=function(a){var b,c,d;try{b=a.toString().split(".")[1].length}catch(e){b=0}try{c=this.toString().split(".")[1].length}catch(e){c=0}return d=Math.pow(10,Math.max(b,c)),(a*d+this*d)/d},d.Tools={carryCombine:function(a,b){var c,d,e,f=[],g=[];if(1===b){for(c=0;a>c;c++)f.push(g.concat(c));return f}if(a===b){for(c=0;a>c;c++)g.push(c);return f.push(g),f}for(c=0;b>c;c++)g.push(c);for(f.push(g.concat());d=b-1,e=a-1;){for(;g[d]<e;)g[d]++,f.push(g.concat());for(;g[--d]===--e;);for(g[d]++,c=d+1;b>c;c++)g[c]=g[d]+c-d;if(f.push(g.concat()),g[0]===a-b)break}return f},getArrSum:function(a){for(var b=0,c=0,d=a.length;d>c;c++)b=b.add(a[c]);return b},product:function(a){var b=1;return function(a){for(var c=0,d=a.length;d>c;c++)b=b.mul(Number(a[c]))}(a),b},uniqArr:function(a){if(null==a)return[];var b=[],c=[];a.sort();for(var d=0,e=a.length;e>d;d++){var f=a[d];d&&c===f||b.push(f),c=f}return b},getMax:function(a){for(var b=0,c=a.length-1;c>=0;c--)b=b>a[c]?b:a[c];return b},getMin:function(a){for(var b=a[0],c=a.length-1;c>=0;c--)b=b<a[c]?b:a[c];return b}},d.SBetCalculator={chuanType:{"1_1":[1],"2_1":[2],"3_1":[3],"4_1":[4],"5_1":[5],"6_1":[6],"7_1":[7],"8_1":[8],"9_1":[9],"10_1":[10],"11_1":[11],"12_1":[12],"13_1":[13],"14_1":[14],"15_1":[15],"2_3":[2,1],"3_3":[2],"3_4":[3,2],"3_6":[2,1],"3_7":[3,2,1],"4_4":[3],"4_5":[4,3],"4_6":[2],"4_10":[2,1],"4_11":[4,3,2],"4_14":[3,2,1],"4_15":[4,3,2,1],"5_5":[4],"5_6":[5,4],"5_10":[2],"5_15":[2,1],"5_16":[5,4,3],"5_20":[3,2],"5_25":[3,2,1],"5_26":[5,4,3,2],"5_30":[4,3,2,1],"5_31":[5,4,3,2,1],"6_6":[5],"6_7":[5,6],"6_15":[2],"6_20":[3],"6_21":[2,1],"6_22":[6,5,4],"6_35":[3,2],"6_41":[3,2,1],"6_42":[6,5,4,3],"6_50":[4,3,2],"6_56":[4,3,2,1],"6_57":[6,5,4,3,2],"6_62":[5,4,3,2,1],"6_63":[6,5,4,3,2,1],"7_7":[6],"7_8":[7,6],"7_21":[5],"7_35":[4],"7_120":[7,6,5,4,3,2],"7_127":[7,6,5,4,3,2,1],"8_8":[7],"8_9":[8,7],"8_28":[6],"8_56":[5],"8_70":[4],"8_247":[8,7,6,5,4,3,2],"8_255":[8,7,6,5,4,3,2,1]},updateSPS:function(a){for(var b={"00103":0,"00100":0,"00203":0,"00200":0,"00402":0,"00401":0,"01103":0,"01100":0,"01203":0,"01200":0,"01331":0,"01332":0,"01333":0,"01334":0,"01335":0,"01336":0,"01301":0,"01302":0,"01303":0,"01304":0,"01305":0,"01306":0,"01402":0,"01401":0},c=a.length-1;c>=0;c--)b[a[c][0]]=a[c][1];return b},getSpsSum:function(a,b){for(var c=[],e=b.length-1;e>=0;e++)c.push(a[b[e]]);return d.Tools.getArrSum(c)},getSpsMax:function(a,b){for(var c=0,d=b.length-1;d>=0;d--){var e=a[b[d]];c=c>e?c:e}return c},getSpsMin:function(a,b){for(var c=a[b[0]],d=b.length-1;d>=0;d--){var e=a[b[d]];c=e>c?c:e}return c}},d.JCLQCalc={bonnus:function(a,b,c){for(var e=[],f=0,g=c.length;g>f;f++){var h=d.SBetCalculator.chuanType[c[f]];e=e.concat(h)}e=d.Tools.uniqArr(e);var i=this.getBetNum(a,b,e),j=this.getBestBonnus(a,b,e);return{count:i,maxBonnus:2*j.max,minBonnus:2*j.min}},getBetNum:function(a,b,c){var e=b.length,f=a.length,g=c.length,h=f-e,i=c.sort()[0],j=1,k=[];if(!(e>=i)){for(var l=e-1;l>=0;l--)j*=a[b[l]].length;for(var l=f-1;l>=0;l--){for(var m=0,n=e-1;n>=0;n--)if(l==b[n]){m=1;break}0===m&&k.push(a[l])}for(var o=0,l=g-1;l>=0;l--){for(var p=c[l]-e,q=d.Tools.carryCombine(h,p),r=0,n=q.length-1;n>=0;n--){for(var s=1,t=p-1;t>=0;t--){var m=q[n][t];s*=k[m].length}r+=s}o+=r}return j*o}alert("格式错误")},bestBets:function(a){var b,c,e,f,g,h,i,j={min:0,max:0},k=d.SBetCalculator.updateSPS(a),l=a[0][2]||0,m=Math.abs(parseInt(l));switch(!0){case m>=0&&5>=m:b=d.SBetCalculator.getSpsMax(k,["01331","01332","01333","01334","01335","01336"]),e=d.SBetCalculator.getSpsMax(k,["01301","01302","01303","01304","01305","01306"]),c=d.SBetCalculator.getSpsMax(k,["01331"]),f=d.SBetCalculator.getSpsMax(k,["01301"]);case 5==m:b=d.SBetCalculator.getSpsMax(k,["01332","01333","01334","01335","01336"]);break;case m>=6&&10>=m:b=d.SBetCalculator.getSpsMax(k,["01332","01333","01334","01335","01336"]),e=d.SBetCalculator.getSpsMax(k,["01302","01303","01304","01305","01306"]),c=d.SBetCalculator.getSpsMax(k,["01331","01332"]),f=d.SBetCalculator.getSpsMax(k,["01301","01302"]);case 10==m:b=d.SBetCalculator.getSpsMax(k,["01333","01334","01335","01336"]);break;case m>=11&&15>=m:b=d.SBetCalculator.getSpsMax(k,["01333","01334","01335","01336"]),e=d.SBetCalculator.getSpsMax(k,["01303","01304","01305","01306"]),c=d.SBetCalculator.getSpsMax(k,["01331","01332","01333"]),f=d.SBetCalculator.getSpsMax(k,["01301","01302","01303"]);case 15==m:b=d.SBetCalculator.getSpsMax(k,["01334","01335","01336"]);break;case m>=16&&20>=m:b=d.SBetCalculator.getSpsMax(k,["01334","01335","01336"]),e=d.SBetCalculator.getSpsMax(k,["01304","01305","01306"]),c=d.SBetCalculator.getSpsMax(k,["01331","01332","01333","01334"]),f=d.SBetCalculator.getSpsMax(k,["01301","01302","01303","01304"]);case 20==m:b=d.SBetCalculator.getSpsMax(k,["01335","01336"]);break;case m>=21&&25>=m:b=d.SBetCalculator.getSpsMax(k,["01335","01336"]),e=d.SBetCalculator.getSpsMax(k,["01305","01306"]),c=d.SBetCalculator.getSpsMax(k,["01331","01332","01333","01334","01335"]),f=d.SBetCalculator.getSpsMax(k,["01301","01302","01303","01304","01305"]);case 25==m:b=d.SBetCalculator.getSpsMax(k,["01336"]);break;case m>=26:b=d.SBetCalculator.getSpsMax(k,["01336"]),e=d.SBetCalculator.getSpsMax(k,["01306"]),c=d.SBetCalculator.getSpsMax(k,["01331","01332","01333","01334","01335","01336"]),f=d.SBetCalculator.getSpsMax(k,["01301","01302","01303","01304","01305","01306"])}var n=d.SBetCalculator.getSpsMax(k,["00402","00401","01402","01401"]),o=d.SBetCalculator.getSpsMin(k,["00402","00401","01402","01401"]),p=d.SBetCalculator.getSpsMax(k,["01331","01332","01333","01334","01335","01336"]),q=d.SBetCalculator.getSpsMax(k,["01301","01302","01303","01304","01305","01306"]);return l>=0?(g=d.Tools.getArrSum([k["00103"],k["01103"],k["00203"],k["01203"],p]),h=d.Tools.getArrSum([k["00100"],k["01100"],k["00203"],k["01203"],f]),i=d.Tools.getArrSum([k["00100"],k["01100"],k["00200"],k["01200"],e])):(g=d.Tools.getArrSum([k["00100"],k["01100"],k["00200"],k["01200"],q]),h=d.Tools.getArrSum([k["00103"],k["01103"],k["00200"],k["01200"],c]),i=d.Tools.getArrSum([k["00103"],k["01103"],k["00203"],k["01203"],b])),j.max=d.Tools.getArrSum([d.Tools.getMax([g,h,i]),n]),j.min=d.Tools.getArrSum([d.Tools.getMin([g,h,i]),o]),j},getBestBonnus:function(a,b,c){for(var e=0,f=0,g=[],h=[],i=[],j=[],k={},l=0,m=b.length;m>l;l++)k[b[l]]=1;for(var l=0,m=a.length;m>l;l++){var n=this.bestBets(a[l]),o=n.min,p=n.max;k[l]&&1===k[l]?(g.push(p),h.push(o)):(i.push(p),j.push(o))}for(var q=d.Tools.product(g),r=d.Tools.product(h),l=0,m=c.length;m>l;l++){for(var s=c[l]-b.length,t=0,u=0,v=d.Tools.carryCombine(i.length,s),w=0,x=v.length;x>w;w++){for(var y=[],z=[],A=0;s>A;A++){var B=v[w][A];y.push(i[B]),z.push(j[B])}t=t.add(d.Tools.product(y)),u=u.add(d.Tools.product(z))}e=e.add(d.Tools.product([q,t])),f=f.add(d.Tools.product([r,u]))}return{max:e,min:f}}},c.C=d},{}],7:[function(a,b,c){var d=function(){$("#SysPanel").length||$(document.body).append('<div class="sys-mask" id="SysMask"></div><div class="sys-panel" id="SysPanel"></div>')};c.show=function(a,b){d();var c=$("#SysPanel"),e=$(document).height(),f=window.innerHeight;a&&!c.html()&&c.html(a),$("#SysMask").css({display:"block",height:(f>e?f:e)-45}).animate({opacity:.7},300,"ease-out"),c.css("display","block").animate({opacity:1},300,"ease-out",function(){b&&b()})},c.hide=function(a){$("#SysMask").animate({opacity:0},300,"ease-in",function(){$("#SysMask").css("display","none")}),$("#SysPanel").animate({opacity:0},300,"ease-in",function(){$("#SysPanel").css("display","none"),a&&a()})}},{}],8:[function(a,b,c){c.toLogin=function(){window.location.replace("http://m.account.sogou.com/wap/index?client_id=2012&v=5&ru="+encodeURIComponent(location.href)+"&skin=red")}},{}],9:[function(a,b){var c=function(a,b){var c=b||1e3,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=function(){window.DeviceMotionEvent&&window.addEventListener("devicemotion",l,!1)},l=function(b){var k=b.accelerationIncludingGravity,l=(new Date).getTime();if(l-d>260){var m=l-d;d=l,e=k.x,f=k.y,g=k.z;var n=Math.abs(e+f+g-h-i-j)/m*1e4;n>c&&a&&a(),h=e,i=f,j=g}};k()};b.exports=c},{}],10:[function(a,b,c){c.addZero=function(a,b){for(a=a.toString();a.length<b;)a="0"+a;return a}},{}],11:[function(a,b,c){var d=function(){$("#SysToolTip").length||$(document.body).append('<div class="sys-tooltip" id="SysToolTip"><div>')};c.show=function(a,b){d(),$("#SysToolTip").html(a).css("display","block").css("margin-top",window.scrollY).animate({opacity:.8},300,"ease-out",function(){setTimeout(function(){$("#SysToolTip").animate({opacity:0},300,"ease-in",function(){$("#SysToolTip").css("display","none"),b&&b()})},1500)})}},{}],12:[function(a){var b={jczqspfp:a("./jczq.js"),jczqrsfp:a("./jczq.js"),jczqbfp:a("./jczq_2.js"),jczqzjqp:a("./jczq_2.js"),jczqbqcp:a("./jczq_2.js"),jczqmixp:a("./jczq_2.js"),jclqsfp:a("./jclq.js"),jclqrsfp:a("./jclq.js"),jclqsfcp:a("./jclq.js"),jclqdxfp:a("./jclq.js"),jclqmixp:a("./jclq.js"),ssq:a("./comlott.js"),dlt:a("./comlott.js"),k3gx:a("./k3.js"),k3jl:a("./k3.js"),k3js:a("./k3.js"),d11sd:a("./d11.js"),sscjx:a("./ssc.js"),f14:a("./f14.js"),f9:a("./f9.js"),qlc:a("./qlc.js"),qxc:a("./qxc.js"),fc3d:a("./fc3d.js"),pl3:a("./pl3.js"),pl5:a("./pl5.js"),bdspf:a("./bd.js"),bdbf:a("./bd_2.js"),bdzjq:a("./bd_2.js"),bdbqc:a("./bd_2.js"),bdsxds:a("./bd_2.js")},c=window.GLOBALS.tplname;b[c]&&b[c].init(c)},{"./bd.js":13,"./bd_2.js":14,"./comlott.js":15,"./d11.js":16,"./f14.js":17,"./f9.js":18,"./fc3d.js":19,"./jclq.js":20,"./jczq.js":21,"./jczq_2.js":22,"./k3.js":23,"./pl3.js":24,"./pl5.js":25,"./qlc.js":26,"./qxc.js":27,"./ssc.js":28}],13:[function(a,b,c){var d=a("../../common/js/iscroll4.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=a("../../common/js/panel.js"),h=a("../../common/js/passport.js"),i=a("../../common/js/calc.js").C,j=null,k="_selected",l="selectedIdx",m='<div class="main-select insure-wrapper" id="MainSelect" >    <div class="scroll-wrapper ">        <ul class="item-list jc-sure-list">            <% for(var i=0,l=data.length;i<l; i++){ %>            <li data-matchno="<%=data[i]["matchNo"]%>">                <p class="jc-sure">                    <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][0]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][0]%>" <%if(data[i][\'selectedIdx\'][\'games\'][0]){ %>class="selected"<%}%>><%=data[i]["displayHomeName"]%></span>                                        <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][1]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][1]%>"  <%if(data[i][\'selectedIdx\'][\'games\'][1]){ %>class="selected"<%}%>>                        <% if(type == \'rsfp\'){ %>                                                <% if(+data[i][\'selectedIdx\'][\'slet\']<0){ %>                        <em class="green">(<%=data[i][\'selectedIdx\'][\'slet\']%>)</em>                        <% }else{ %>                        <em class="red">(<%=data[i][\'selectedIdx\'][\'slet\']%>)</em>                        <% } %>                                                <% } %>                        平                    </span>                                        <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][2]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][2]%>"  <%if(data[i][\'selectedIdx\'][\'games\'][2]){ %>class="selected"<%}%>><%=data[i][\'displayAwayName\']%></span>                </p>                <p class="dan">                    <span>胆</span>                </p>            </li>            <%}%>        </ul>        <p style="height:10px;">&nbsp;</p>    </div></div><div class="play-method-wrapper">    <ul class="play-method item-list">        <li class="method <%if(data.length/5>1){%>multi-method<%}%>" id="MethodWrapper">            <% for(var i=1,l=data.length;i<l&&i<8;i++){%>            <span><%=i+1%>串1</span>            <% } %>        </li>        <div>        <li>            倍数:<input id="MultiNum" type="number" name="" value="10" />&nbsp;(最高99999倍)        </li>        <li class="num">金额:</li>        <li class="award">最大奖金: </li>        </div>    </ul></div>',n=_.template('<ul class="bd-type">    <li <% if(type==\'spf\'){ %>class="selected"<% } %> data-href="/bdspf/"><span>胜平负</span></li>    <li <% if(type==\'sxds\'){ %>class="selected"<% } %> data-href="/bdsxds/"><span>上下单双</span></li>    <li <% if(type==\'bf\'){ %>class="selected"<% } %> data-href="/bdbf/"><span>比分</span></li>    <li <% if(type==\'zjq\'){ %>class="selected"<% } %> data-href="/bdzjq/"><span>总进球数</span></li>    <li <% if(type==\'bqc\'){ %>class="selected"<% } %> data-href="/bdbqc/"><span>半全场</span></li></ul>'),o=-1,p=-1,q=function(){if(!$(".jc-sure-list li .jc-sure span.selected").length||!$(".play-method span.selected").length)return $(".play-method .num").html("金额:"),void $(".play-method .award").html("最大奖金:");
var a=$("#MultiNum").val();if(!(1>a||a>99999)){var b=[],c=[],d=[],e=0;$(".jc-sure-list li").forEach(function(a){if($(a).find(".jc-sure span.selected").length){var d=[];$(a).find(".jc-sure span.selected").forEach(function(a){d.push(+$(a).data("sps"))}),b.push(d.sort()),$(a).find(".dan span.selected").length&&c.push(e),e++}}),$(".play-method span.selected").forEach(function(a){d.push($(a).html())});var f=i.JCZQ_Calc.calCount(!0,b,c,d,[0,0,0,0,0,0,0,0,0]),g=i.JCZQ_Calc.calExtreme(!0,b,c,d,[0,0,0,0,0,0,0,0,0]);$(".play-method .num").html('金额:<span class="red">'+f+'</span>注&nbsp;<span class="red" id="Price">'+f*a*2+"</span>元"),$(".play-method .award").html('最大奖金: <span class="red">'+(g.max*a*2*.65).toFixed("2")+"</span>元")}},r=function(){var a=s(".jc-sure-list>li",".jc-sure>span"),b=$(this);if(a.length<1)return void e.show("请至少选择一场比赛");if(a.length>15)return void e.show("选择比赛不能超过15场");if(!$("#MethodWrapper .selected").length)return void e.show("请选择过关方式");var c=$("#MultiNum").val();if(1>c||c>99999)return void e.show("请选择正确的倍数");if(!+b.data("st")){b.data("st",1);var d=[];Object.keys(a).forEach(function(b){if(a[b].games){var c=[];a[b].games.forEach(function(d,e){d&&c.push(a[b].spno[e])}),d.push(b+":"+c.join(".")+":"+a[b].dan)}}),d=d.join(" ")+"|"+[].slice.call($("#MethodWrapper .selected")).map(function(a){return"单关"==$(a).html()?"1_1":$(a).html().replace("串","_")}).join(","),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:j.game.gameId,periodNo:j.availablePeriod.periodNo,price:100*parseFloat($("#Price").html()),betTimes:$("#MultiNum").val()},success:function(a){if(401==+a.retcode&&(h.toLogin(),b.data("st",0)),a.result&&a.result.payOrderId){try{localStorage.removeItem(k)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location="/order/pay/detail.html?payOrderId="+a.result.payOrderId},300),b.data("st",1),!1;window.location.assign("/order/pay/detail.html?payOrderId="+a.result.payOrderId),b.data("st",1)}else b.data("st",0),e.show(a.retdesc)}})}},s=function(a,b){var c={},d=0;return $(a).forEach(function(a){var e=[0,0,0],f=[1,1,1],g=[0,0,0];if($(a).find(b).forEach(function(a,b){f[b]=parseFloat($(a).find(".sps").data("sps"))||parseFloat($(a).data("sps")),g[b]=$(a).find(".sps").data("spsno")||$(a).data("spsno"),$(a).hasClass("selected")&&(e[b]=1)}),$(a).find(b+".selected").length){var h=$(a).data("matchno");c[h]||(c[h]={}),c[h].games=e,c[h].sps=f,c[h].spno=g,c[h].dan=+!!$(a).find(".dan .selected").length,c[h].slet=$($(a).find(b).get(1)).find("span").html(),d++}}),c.length=d,c},t=function(){var a=0;$(".jc-list>li").forEach(function(b){$(b).find(".jc-bets p.selected").length&&a++}),$("#MatchSelected").html(a)},u=function(a){var b=[];return j.currentMatchList.forEach(function(c){c.forEach(function(c){a[c.matchNo]&&(c[l]=a[c.matchNo],c[l]&&c[l].games&&parseInt(c[l].games.join(""))&&b.push(c))})}),b},v=function(){var a=$(".dan span");1==o||o==s(".jc-sure-list li",".jc-sure span").length?(a.removeClass().addClass("disabled"),x()):a.length==p?(a.removeClass().addClass("disabled"),x()):a.forEach($(".dan span.disabled").length==a.length?function(a){$(a).closest("li").find(".jc-sure .selected").length&&$(a).removeClass()}:o>0&&$(".dan span.selected").length>=o-1?function(a){$(a).hasClass("selected")||$(a).addClass("disabled")}:$(".dan span.selected").length>=s(".jc-sure-list li",".jc-sure span").length-1?function(a){$(a).hasClass("selected")||$(a).addClass("disabled")}:function(a){$(a).closest("li").find(".jc-sure .selected").length&&$(a).removeClass("disabled")})},w=function(a,b){var c=u(a);$("#StepWrapper").html(_.template(m,{data:c,type:b})),$("#MethodWrapper").css({"overflow-x":"hidden","overflow-y":"auto"}),y(),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("返回<span><em></em></span>").click(function(a){a.preventDefault();var b=s(".jc-sure-list>li",".jc-sure>span");try{localStorage[k]=JSON.stringify(b)}catch(c){}location.reload()}),$(".base-bar .empty").off().tap(function(){if(($(".jc-bets p.selected").length||$(".jc-sure span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-bets p").removeClass("selected"),$(".jc-sure span").removeClass("selected"),$(".dan span").removeClass("selected"),$("#MethodWrapper span").removeClass("selected"),t(),$("#MultiNum").val(10),$(".play-method .num").html('金额:<span class="red">0</span>注&nbsp;<span class="red" id="Price">0</span>元'),$(".play-method .award").html('最大奖金: <span class="red">0</span>元');try{localStorage.removeItem(k)}catch(a){}}}),$(".base-bar .sure").off().html("付款").tap(function(){r.call(this)}).on("click",function(a){a.preventDefault()}),1==c.length&&($("#MethodWrapper span").addClass("selected"),o=p=1,v(),q()),x()},x=function(){var a=[].slice.call($("#MethodWrapper").find(".selected"));a=a.map(function(a){var b=$(a);return"单关"==b.html()?1:parseInt(b.html())});for(var b=s(".jc-sure-list li",".jc-sure span").length,c=$(".dan .selected").length,d=b,e=d-c,f="",g=0;e>g;g++){var h="";h="<span",-1!=a.indexOf(d-g)&&(h+=' class="selected"'),h+=d-g==1?">单关</span>":">"+(d-g)+"串1</span>",f=h+f}$("#MethodWrapper").html(f)},y=function(){$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-12),$(".jc-sure span").tap(function(a){a.preventDefault(),$(this).toggleClass("selected"),$(this).closest("li").find(".jc-sure .selected").length||$(this).closest("li").find(".dan span").removeClass("selected"),x(),q()}),$("#MultiNum").change(function(){var a=$(this),b=a.val();(1>b||b>99999)&&(e.show("请选择正确的倍数"),a.val("99999")),q()}),$(".dan span").on("tap",function(a){a.preventDefault(),$(this).closest("li").find(".jc-sure .selected").length&&($(this).hasClass("disabled")||$(this).toggleClass("selected"),v(),x(),q())}),$("#MethodWrapper").on("tap","span",function(){$(this).toggleClass("selected");var a=$(this).parent().find(".selected").map(function(a,b){var c=$(b);return"单关"==c.html()?1:parseInt(c.html())});a=[].slice.call(a).sort(),o=a[0],p=1,v(),q()}),new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},z=function(a){$(".jc-bets p").tap(function(){$(this).toggleClass("selected"),t()}),$(".base-bar .empty").tap(function(){if(($(".jc-bets p.selected").length||$(".jc-sure span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-bets p").removeClass("selected"),$(".jc-sure span").removeClass("selected"),$(".dan span").removeClass("selected"),$("#MethodWrapper span").removeClass("selected"),t();try{localStorage.removeItem(k)}catch(a){}}}),$(".base-bar .sure").tap(function(b){b.preventDefault();var c=s(".jc-list>li",".jc-bets p");if(c.length<1)return void e.show("请至少选择一场比赛");if(c.length>15)return void e.show("选择比赛不能超过15场");try{localStorage[k]=JSON.stringify(c)}catch(d){}w(c,a)}),$("header .dropdown,header h3 span").tap(function(){$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(n({type:a})):g.hide()}),$(document.body).on("tap",".bd-type span",function(){$(this).closest("li").hasClass("selected")?(g.hide(),$("header .dropdown").toggleClass("droped")):location.href=$(this).closest("li").data("href")}),$(window).on("resize",function(){A()}),$(document.body).on("orientationchange",function(){A()})},A=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",window.innerHeight-$("header").offset().height-$(".base-bar").offset().height)};c.init=function(a){a=a.replace("bd",""),k=a+k,A();var b=JSON.parse(window.data);j=b,b._parseTime=function(a){return a>9?a:"0"+a},b.currentMatchList.forEach(function(a){a.forEach(function(a){a[l]={games:[0,0,0]};var b=new Date(+a.officialEndTime);a.officialEndTime=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)})});var c=[];try{c=JSON.parse(localStorage[k]||"[]")}catch(e){}b.currentMatchList.forEach(function(a){a.forEach(function(a){c[a.matchNo]&&(a[l]=c[a.matchNo])})}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),t(),new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1}),z(a)}},{"../../common/js/calc.js":1,"../../common/js/iscroll4.js":5,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],14:[function(a,b,c){var d=a("../../common/js/iscroll4.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=a("../../common/js/panel.js"),h=a("../../common/js/passport.js"),i=a("../../common/js/calc.js").C,j=null,k="_selected",l="selectedIdx",m="",n=!1,o='<div class="order-wrapper">    <div class="order-title">已选择3场比赛 投注截止时间2014-04-15 17:15</div>    <div class="order-info">        <div class="order-list">            <% for(var i=0,l=data.length;i<l; i++){ %>                <div class="order-item">                    <div class="item-info">                          <%=data[i][\'selectedIdx\'][\'slet\']%>                                </div>                    <div class="sd"><span>胆</span></div>                </div>            <% } %>        </div>    </div></div>',p=_.template('<ul class="bd-type">    <li <% if(type==\'spf\'){ %>class="selected"<% } %> data-href="/bdspf/"><span>胜平负</span></li>    <li <% if(type==\'sxds\'){ %>class="selected"<% } %> data-href="/bdsxds/"><span>上下单双</span></li>    <li <% if(type==\'bf\'){ %>class="selected"<% } %> data-href="/bdbf/"><span>比分</span></li>    <li <% if(type==\'zjq\'){ %>class="selected"<% } %> data-href="/bdzjq/"><span>总进球数</span></li>    <li <% if(type==\'bqc\'){ %>class="selected"<% } %> data-href="/bdbqc/"><span>半全场</span></li></ul>'),q=null,r=null,s={20103:"胜",20101:"平",20100:"负",20511:"上单",20510:"上双",20501:"下单",20500:"下双",20210:"1:0",20220:"2:0",20221:"2:1",20230:"3:0",20231:"3:1",20232:"3:2",20240:"4:0",20241:"4:1",20242:"4:2",20290:"胜其他",20200:"0:0",20211:"1:1",20222:"2:2",20233:"3:3",20299:"平其他",20201:"0:1",20202:"0:2",20212:"1:2",20203:"0:3",20213:"1:3",20223:"2:3",20204:"0:4",20214:"1:4",20224:"2:4",20209:"负其他",20400:"0",20401:"1",20402:"2",20403:"3",20404:"4",20405:"5",20406:"6",20407:"7+",20333:"胜胜",20331:"胜平",20330:"胜负",20313:"平胜",20311:"平平",20310:"平负",20303:"负胜",20301:"负平",20300:"负负"},t=function(){var a=$(this),b=parseInt(a.closest(".game-info").height()),c=parseInt(a.closest(".game-select").offset().top)+35,e=b-c,f=a.closest(".game-info").find(".bet-select-plan");f.find(".choice").removeClass("cur"),u(f,a),f.find(".submit").attr("data-matchno",a.attr("data-matchno")),f.find(".bf-wrapper").css("top",e+"px"),f.find(".layer").css("top",e-5+"px"),f.css("display","block"),$("#base-operate .operate-layer").css("display","block");var g="wrapper-"+a.data("matchno");q.disable(),L($("#"+g)),setTimeout(function(){r=new d(g,{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},u=function(a,b){if(b.hasClass("selected")){var c=b.data("selectspsno").toString().split(" ");c.forEach(function(b,c,d){var e=d[c];a.find(".choice .bet-odds").each(function(){$(this).data("spsno")==e&&$(this).closest(".choice").addClass("cur")})})}},v=function(){var a=$(this).closest(".game-info").find(".bet-select-plan");a.hide(),$("#base-operate .operate-layer").hide()},w=function(){var a=$(this).closest(".game-info"),b=a.find(".bet-select-plan"),c=a.find(".mixp-select"),d=b.find(".submit").attr("data-matchno"),e="",f="";c.length&&c.find(".mixp-sps").removeClass("mixp-selected"),b.find(".choice-y .cur .bet-plan").each(function(){var a=$(this);e+=a.text()+" ",f+=a.siblings(".bet-odds").data("spsno")+" ";var b=a.siblings(".bet-odds").data("spsno");b>=11100&&11203>=b&&c.length&&c.find(".mixp-sps").each(function(){$(this).data("spsno")==b&&$(this).addClass("mixp-selected")})}),b.find(".choice-y .cur .bet-plan").length?($('.select-score[data-matchno ="'+d+'"]').text(e.trim()).addClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno",f.trim())):($('.select-score[data-matchno ="'+d+'"]').text(m).removeClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno","")),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=y(".game-info",".choice-list .cur");try{localStorage[k]=JSON.stringify(g)}catch(h){}I(),setTimeout(function(){b.hide(),$("#base-operate .operate-layer").hide()},100)},x=function(a,b){var c=z(a),d=C(),e=$("#base-operate .game-num .red").text(),f="已选择"+e+'比赛 投注截止时间<span class="end-time">'+d+"</span>";$("#order-form").html(_.template(o,{data:c,type:b})),"mixp"==b&&($("#order-form").find(".mixp-select").hide(),$("#order-form").find(".select-score").css("display","block")),F(b),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("修改<span><em></em></span>").click(function(a){a.preventDefault(),location.reload()}),$("#order-form .order-title").html(f),$("#order-form").css("display","block"),$(".base-bar-2 .base-select-bar").hide(),$(".base-bar-2 .base-info-bar").css("display","block")},y=function(a,b){var c=0,d={};return $(a).forEach(function(a){var e=[],f=[],g=$(a).find(".select-score");if($(a).find(b).forEach(function(a,b){e[b]=parseFloat($(a).find(".bet-odds").data("sps")),f[b]=$(a).find(".bet-odds").data("spsno")}),g.hasClass("selected")){var h=$(a).find(".game-select").html(),i=g.data("matchno");d[i]||(d[i]={}),d[i].matchno=i,d[i].sps=e,d[i].spsno=f,d[i].dan=0,d[i].slet=h,c++}}),d.length=c,d},z=function(a){var b=[];return j.currentMatchList.forEach(function(c){c.forEach(function(c){a[c.matchNo]&&(c[l]=a[c.matchNo],c[l]&&b.push(c))})}),b},A=function(a,b){var c=[];try{c=JSON.parse(localStorage[k]||"[]")}catch(d){}var e=$("#MultiNum").val(),f=$(".game-info .selected").length;if(!(1>e||e>99999)){var g=0,h=[],j=[],l=[],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if($("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),b=$(this).data("matchno");h.push(c[b].sps.sort(function(a,b){return a-b})),a.find(".sd .cur").length&&j.push(g),g++}),b){var n="",o=D(a,f);n=1==o?"单关":o+"串1",l.push(n)}else $(".order-method span.cur").each(function(){l.push($(this).html())});var p=i.JCZQ_Calc.calCount(!0,h,j,l,m),q=i.JCZQ_Calc.calExtreme(!0,h,j,l,m),r="<span>"+p+"注x"+e+'倍=<span id="Price" class="red">'+p*e*2+"元</span></span>",s='<span>最大奖金:<span class="red">'+(q.max*e*2*.65).toFixed("2")+"元</span></span>";$(".order-money").html(r+"<br>"+s)}},B=function(){var a=$(this),b=[],c=$("#MultiNum").val(),d=[];if(!$("#order-form .selected").length)return void e.show("请返回选择比赛进行投注");if(1>c||c>99999)return void e.show("请选择正确的倍数");if(n!==!0){n=!0;try{b=JSON.parse(localStorage[k]||"[]")}catch(f){}$("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),c=$(this).data("matchno"),e=[],f=0;e=b[c].spsno,a.find(".sd .cur").length&&(f=1),d.push(c+":"+e.join(".")+":"+f)});var g=$("#default-type").text().trim().replace("单关","1串1");d=d.join(" ")+"|"+g.replace(/串/g,"_"),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:j.game.gameId,periodNo:j.availablePeriod.periodNo,price:100*parseFloat($("#Price").html()),betTimes:$("#MultiNum").val()},success:function(b){if(401==+b.retcode&&(h.toLogin(),a.data("st",0)),b.result&&b.result.payOrderId){try{localStorage.removeItem(k)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location="/order/pay/detail.html?payOrderId="+b.result.payOrderId},300),a.data("st",1),!1;window.location.assign("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1)}else a.data("st",0),e.show(b.retdesc);n=!1}})}},C=function(){var a="";return $("#game-select-2 .game-info .selected").each(function(b){var c=$(this),d=c.closest(".game-info"),e=d.find(".jc-time").data("endtime"),f=e.split(" "),g="";f[0].split("-").forEach(function(a,b,c){parseInt(c[b])<10&&(c[b]="0"+c[b]),g+=0===b?c[b]:"-"+c[b]}),e=g+" "+f[1],a=0===b?e:e>a?a:e}),a},D=function(a,b){var c=$("#base-operate .order-method .method"),d="",e=1,f="";"bf"==a?e=3>=b?b:3:("zjq"==a||"bqc"==a||"sxds"==a)&&(e=6>=b?b:6),d=1==b?'<span class="bet-method cur">单关</span>':'<span class="bet-method">单关</span>',f="单关";for(var g=2;e>=g;g++)d+=g==e?'<span class="bet-method cur">'+g+"串1</span>":'<span class="bet-method">'+g+"串1</span>",f=e+"串1";return $("#default-type").text(f),c.html(d+'<span class="hide-method">收起<i class="arrow"></i></span>'),H(),e},E=function(){var a=$("#order-form .item-info").length,b=100;return $("#base-operate .method .cur").each(function(){var a=$(this);if("单关"==a.text())return void(b=1);var c=parseInt(a.text());b=b>c?c:b}),100==b||b==a?b=0:b-=1,b},F=function(a){var b=$("#order-form"),c=$("#base-operate");b.find(".clear-btn").tap(function(){window.confirm("您真的要清空已选方案？")&&(b.find(".order-wrapper").remove(),localStorage.removeItem(k),$(".order-money").html("<span>最大奖金：</span>"))}),b.find(".sd span").tap(function(){var c=$(this),d=E();if(c.hasClass("cur"))c.removeClass("cur");else{if(!(b.find(".sd .cur").length<d)||c.hasClass("cur"))return;c.addClass("cur")}A(a,!1)}),c.find("input").on("blur",function(){var b=$("input"),c=($(this),$(this).val().trim());""===c?b.val(10):G(c)?G(c)&&parseInt(c)>99999?e.show("倍数不能超过99999",function(){b.val(99999)}):(b.val(c),b.blur()):e.show("请输入小于99999的整数",function(){b.val(99999)}),A(a,!1)}),c.find(".submit-btn").tap(function(){B()})},G=function(a){return/^[1-9]\d*$/.test(a)?!0:!1},H=function(a){var b=$("#order-form"),c=($("#default-type"),$("#base-operate")),d=c.find(".order-method");c.find(".bet-type").tap(function(){c.find(".order-operate").hide(),d.css("display","block"),K(),setTimeout(function(){q.refresh()},100)}),c.find(".hide-method").tap(function(){var a="";return c.find(".cur").length?(c.find(".cur").each(function(b){a+=0===b?$(this).text():","+$(this).text()}),$("#default-type").text(a),d.hide(),void setTimeout(function(){c.find(".order-operate").css("display","-webkit-box"),K(),setTimeout(function(){q.refresh()},100)},500)):void e.show("请至少选择一种过关方式")}),c.find(".bet-method").tap(function(){var d=$(this),e="";d.toggleClass("cur");var f=E(),g=b.find(".sd .cur").length;g>f&&b.find(".sd .cur").removeClass("cur"),c.find(".cur").each(function(a){e+=0===a?$(this).text():","+$(this).text()}),$("#default-type").text(e),c.find(".bet-method").length?A(a,!1):$(".order-money").html("<span>最大奖金：</span>")})},I=function(){r.destroy(),q.enable()},J=function(a){var b=$(document).height(),c=window.innerHeight;$(".layer").css("height",c>b?c:b),$(".layer").css("width",2*window.innerWidth),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场"),$(".select-score").on("tap",function(){return $(this).hasClass("selected")||15!==$(".game-info .selected").length?void t.call($(this)):void e.show("最多选择15场比赛")}),$(".bet-select-plan .cancel").on("tap",function(){I();var a=$(this);setTimeout(function(){v.call(a)},100)}),$(".bet-select-plan .submit").on("tap",function(){w.call($(this))}),$(".bet-select-plan .choice").on("tap",function(){return $(this).hasClass("unsupport")?void e.show("本场次不支持此玩法"):void $(this).toggleClass("cur")}),$(".toggle-game-list").tap(function(){$(this).closest(".item-list").find(".game-info-list").toggleClass("hide-game-list"),$(this).toggleClass("close-game-list"),setTimeout(function(){q.refresh()},100)}),$(".base-bar-2 .empty").tap(function(){if($(".game-select .selected").length&&window.confirm("您真的要清空已选方案？")){$(".game-select .selected").removeClass("selected").text(m),$(".base-bar-2 .game-num .red").text("0场"),$(".choice-list .choice").removeClass("cur");try{localStorage.removeItem(k)}catch(a){}}}),$(".mixp-select .mixp-sps").tap(function(){var a=$(this);if(a.hasClass("unsupport"))return void e.show("本场次不支持此玩法");var b=a.data("spsno"),c="",d="",f=a.closest(".game-info");a.hasClass("mixp-selected")?(a.removeClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.find(".bet-odds").data("spsno")==b&&a.removeClass("cur"),a.hasClass("cur")&&(d+=a.find(".bet-odds").data("spsno")+" ",c+=s[a.find(".bet-odds").data("spsno")]+" ")})):(a.addClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.find(".bet-odds").data("spsno")==b&&a.addClass("cur"),a.hasClass("cur")&&(d+=a.find(".bet-odds").data("spsno")+" ",c+=s[a.find(".bet-odds").data("spsno")]+" ")})),""!==c.trim()?f.find(".select-score").addClass("selected"):f.find(".select-score").removeClass("selected"),f.find(".select-score").text(c.trim()).data("selectspsno",d.trim()),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=y(".game-info",".choice-list .cur");try{localStorage[k]=JSON.stringify(g)}catch(h){}}),$(window).on("resize",function(){K();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");L($(a))}})}),$(document.body).on("orientationchange",function(){K();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");L($(a))}})}),$("header .dropdown,header h3 span").tap(function(){$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(p({type:a})):g.hide()}),$(document.body).on("tap",".bd-type span",function(){$(this).closest("li").hasClass("selected")?(g.hide(),$("header .dropdown").toggleClass("droped")):location.href=$(this).closest("li").data("href")}),$(".base-bar-2 .sure").tap(function(){if($(".game-info .selected").length>15)return void e.show("最多选择15场比赛");if(!$(".game-select .selected").length)return void e.show("请至少选择一场比赛");$("#game-select-2").hide();var b=y(".game-info",".choice-list .cur");x(b,a);try{localStorage[k]=JSON.stringify(b)}catch(c){}A(a,!0),K(),setTimeout(function(){q.refresh()},100)}),setTimeout(function(){q=new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},K=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height)},L=function(a){if(a.length){var b,c=a.closest(".bf-select"),d=c.find(".operate").offset().height+30,e=window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height-d;b=a.find(".choice-wrapper").offset().height,a.css("height",b>e?e:b)}};c.init=function(a){a=a.replace("bd",""),"bf"==a?m="点击选择比分":"bqc"==a?m="点击选择半全场赛果":"zjq"==a?m="点击选择总进球数":"sxds"==a&&(m="点击选择上下单双"),k=a+k,K();var b=JSON.parse(window.data);b._parseTime=function(a){return a>9?a:"0"+a},j=b,b.currentMatchList.forEach(function(a){a.forEach(function(a){a[l]={};var b=new Date(+a.officialEndTime);a.officialEndTime=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)})});var c=[];try{c=JSON.parse(localStorage[k]||"[]")}catch(d){}b.currentMatchList.forEach(function(a){a.forEach(function(a){c[a.matchNo]&&(a[l]=c[a.matchNo])})}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),$(".select-score").each(function(){var a=$(this),b=a.closest(".game-info").find(".bet-select-plan");u(b,a)}),J(a)}},{"../../common/js/calc.js":1,"../../common/js/iscroll4.js":5,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],15:[function(a,b,c){var d=a("../../common/js/iscroll-lite.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/shake.js"),h=(a("../../common/js/dateformat.js"),null),i="",j={red:[],blue:[],type:"",selBall:function(a,b){var c=$("."+a+"-ball"),d=c.find("span"),e=0;b=_.sortBy(b),d.each(function(){var a=$(this);a.removeClass("active"),+a.html()==b[e]&&(a.addClass("active"),e++)})},random:function(a,b,c,d){var e=_.range(1,b),f=[];return f=_.sortBy(_.sample(e,c)),f=_.map(f,function(a){return 10>a?"0"+a:a.toString()}),d?f:(this[a]=f,this.selBall(a,f),void this.storage())},storage:function(){try{localStorage["default_bet_"+i]=$.trim(j.red.join(" "))+":"+$.trim(j.blue.join(" "))}catch(a){}},pay:function(a,b,c){var d=j,f=d.betNum(),g=0,h=$(this),i="/ajax/order/bet/do.html";switch(a){case"ssq":g=d.sum(f,6,1);break;case"dlt":if(g=d.sum(f,5,2),$("#dltAdd").prop("checked")){var k=f.split(";");f="",k.forEach(function(a){f+="+"+a+";"})}}if(!f)return void e.show("投注号码不能为空");var l=+$("#beishu").val(),m={rawBetNumbers:f,sourceType:2,gameId:a,price:100*g,periodNo:b,betTimes:l},n=parseInt(c);n>1&&(i="/ajax/order/followbet.html",m={rawBetNumbers:f,followPeriodNums:n,ordertype:2,sourceType:2,gameId:a,price:100*g,betTimes:l}),d.payPost(h,i,m)},payPost:function(a,b,c){a.data("st",0).addClass("disable"),$.ajax({type:"POST",url:b,data:c,success:function(b){if(401==+b.retcode)return void f.toLogin();if(b.result&&b.result.payOrderId){try{localStorage.removeItem("default_bet_"+i)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300),a.data("st",1).removeClass("disable"),!1;window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1).removeClass("disable")}else e.show(b.retdesc),a.data("st",1).removeClass("disable")}})},c:function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},sum:function(a,b,c){if(!a)return 0;var d=this.c,e=a.split(";"),f=0,g=+$("#beishu").val(),h=+$("#followNum").val().trim();return e=_.map(e,function(a){return a.split(":")[0].split(" ").length+","+a.split(":")[1].split(" ").length}),$.each(e,function(a,e){var g=e.split(",");f+=d(g[0],b)*d(g[1],c)}),f=$("#dltAdd").length>0&&$("#dltAdd").prop("checked")?3*f*g*h:2*f*g*h},betNum:function(){var a="",b=$("#betSure li .left-num");return b.length?function(){return b.each(function(b,c){a+=";"+$(c).find(".red").html()+":"+$(c).find(".blue").html()}),a=a.slice(1)}():null},inSure:function(a,b,c,g){var j=this;if(j.red.length<a||j.blue.length<b)return void e.show("至少选择"+a+"个红球和"+b+"个蓝球");var k=function(){return j.sum(j.betNum(),a,b)},l=$("#betSure ul"),m=$("#followNum"),n=$("#beishu"),o=_.template($("#betLi").html()),p=window.loginUserId,q=(h.game.gameCn,function(a,b,d){var f=a.val().trim();return/^[1-9][0-9]*$/.test(f)&&b>=f?(c.html("共"+k()+"元 付款"),!0):(e.show(d,function(){a.val(1),c.html("共"+k()+"元 付款")}),!1)}),r=function(){$("#MainSelect").height(window.innerHeight-150),$("#betSure").css("min-height",window.innerHeight)},s=function(){r(),$("header h3").html("投注确认"),$("header .left a").html("返回<span><em></em></span>").attr("href","/"+i+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block");var e=new d("#MainSelect",{bounce:!0});j.red=_.sortBy(j.red),j.blue=_.sortBy(j.blue),l.prepend(o(j)).find("li").fadeIn(),g.off().on("tap",function(){l.html(""),c.html("共"+k()+"元 付款")}),c.off().html("共"+k()+"元 付款").data("st",1).on("tap",function(){var a=(n.val().trim(),m.val().trim());+c.data("st")&&q(n,999,"倍数必须是1-999的正整数")&&q(m,100,"连续购买期数必须是1-100的正整数")&&j.pay.call(this,i,h.availablePeriod.periodNo,a)}),$("#betSure ul").on("tap",".right-type",function(){$(this).parents("li").remove(),c.html("共"+k()+"元 付款")}),$("#betSure").on("swipeDown",function(){if(!(e.getComputedPosition().y<50)){var d={};switch(i){case"ssq":d={red:j.random("red",33,a,1),blue:j.random("blue",16,b,1),type:"单式"};break;case"dlt":d={red:j.random("red",35,a,1),blue:j.random("blue",12,b,1),type:"单式"}}l.prepend(o(d)),l.find("li").first().fadeIn(),e.refresh(),c.html("共"+k()+"元 付款")}}),n.on("input",function(){""!==$(this).val().trim()&&q($(this),999,"倍数必须是1-999的正整数")}),m.on("input",function(){""!==$(this).val().trim()&&q($(this),100,"连续购买期数必须是1-100的正整数")}),$("#dltAdd").length>0&&($("#dltAddLabel").on("tap",function(){var a=$("#dltAdd");a.prop("checked")?(a.prop("checked",!1),c.html("共"+k()+"元 付款")):(a.prop("checked",!0),c.html("共"+k()+"元 付款"))}),$("#dltAdd").on("change",function(){c.html("共"+k()+"元 付款")})),window.onresize=function(){r(),e.refresh()}};j.type=j.red.length>a||j.blue.length>b?"复式":"单式",p?s():$.post("/ajax/logininfo.html",function(a){return a.result?(s(),void(window.loginUserId=a.result)):void f.toLogin()},"json")}},k=function(){var a=$("#betBall li span");a.on("tap",function(){var a=$(this),b=a.data("color"),c=a.html();a.hasClass("active")?_.remove(j[b],function(a){return a==c}):j[b].push(c),a.toggleClass("active"),j.storage()})},l=function(){var a=$("#operate .empty"),b=$("#operate .sure");try{$("#headInfo").html(_.template($("#headInfo_tpl").html(),h))}catch(c){}if(a.on("tap",function(){j.red=[],j.blue=[],j.storage(),$("#betBall li span").removeClass("active")}),b.on("tap",function(){switch(i){case"ssq":j.inSure(6,1,b,a);break;case"dlt":j.inSure(5,2,b,a)}}),window.DeviceMotionEvent){var d=function(){switch(i){case"ssq":j.random("red",33,6),j.random("blue",16,1);break;case"dlt":j.random("red",35,5),j.random("blue",12,2)}};$(".shake-ico").show().on("tap",d),new g(d)}localStorage["default_bet_"+i]?function(){var a=localStorage["default_bet_"+i];if(a.length>1){var b=a.split(":");j.red=b[0].split(" "),j.blue=b[1].split(" "),j.selBall("red",j.red),j.selBall("blue",j.blue)}else try{localStorage.removeItem("default_bet_"+i)}catch(c){}}():null,"ssq"==i&&localStorage.quick_ssq_bet&&localStorage.removeItem("quick_ssq_bet")};c.init=function(){var a=window.data?JSON.parse(window.data):{};h=a,i=h.game.gameId;var b="";"dlt"==i&&(b='<span class="num-wrapper"><input type="checkbox" id="dltAdd"><label id="dltAddLabel">追加</label></span>',$($("#beiTou .num-wrapper").get(0)).after(b)),"ssq"==i&&localStorage.quick_ssq_bet&&(localStorage.default_bet_ssq=localStorage.quick_ssq_bet),k(),l()}},{"../../common/js/dateformat.js":2,"../../common/js/iscroll-lite.js":4,"../../common/js/passport.js":8,"../../common/js/shake.js":9,"../../common/js/tooltip.js":11}],16:[function(a,b,c){var d,e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/panel.js"),h=(a("../../common/js/dateformat.js"),null),i=_.template('<ul class="k3-type d11-type" id="d11Type">    <li data-id="A2"><span>任二</span></li>    <li data-id="A3"><span>任三</span></li>    <li data-id="A4"><span>任四</span></li>    <li data-id="A5" class="cur"><span>任五</span></li>    <li data-id="A6"><span>任六</span></li>    <li data-id="A7"><span>任七</span></li>    <li data-id="A8"><span>任八</span></li>    <li data-id="F1"><span>前一</span></li>    <li data-id="F2Y"><span>前二直</span></li>    <li data-id="F2N"><span>前二组</span></li>    <li data-id="F3Y"><span>前三直</span></li>    <li data-id="F3N"><span>前三组</span></li></ul>'),j=_.template($("#headInfoTpl").html()),k=window.sessionStorage,l={p1:[],p2:[],p3:[]},m={type:"A5",gameId:"d11sd",gameCn:"11选5",periodNo:0},n={A2:"任二",A3:"任三",A4:"任四",A5:"任五",A6:"任六",A7:"任七",A8:"任八",F1:"前一",F2Y:"前二直选",F2N:"前二组选",F3Y:"前三直选",F3N:"前三组选"},o=function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},p=function(){var a=+h.availablePeriod.endTime,b=+new Date-+h.systemTime,c={},d=function(){$.post("/ajax/game/highfrequency/"+m.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(d,15e3):d._render=1,d._render&&(d._render=0,h=b.object,a=+h.availablePeriod.endTime,g())):setTimeout(d,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else e.show(c.periodNo+"期已截止投注",function(){d._render=1,d()})},g=function(){if(m.periodNo=h.availablePeriod.periodNo,c.periodNo=m.periodNo.slice(-2),$("#headInfo").html(j(c)),h.openingAwardPeriodNo)$("#kaiNum").html("开奖中..."),d._render&&d();else{var a=h.awardList[0].prizeNumber.split(",")[0];$("#kaiNum").html(a)}f()};d._render=1,g()},q=function(){var a="",b=_.template($("#betLi").html()),c=k[d].split(";"),e=$("#betSure ul");$.each(c,function(c,d){var e=d.split("_")[0],f=d.split("_")[1];
a+=b({name:n[e],cont:f,code:d})}),e.html(a)},r=function(a){if(k.login_next)return k.removeItem("login_next"),void q();var b=k[d]?k[d].split(";"):[],c=m.type;if(a)b.splice(b.indexOf(a),1);else switch(c){case"A2":case"A3":case"A4":case"A5":case"A6":case"A7":case"A8":case"F1":case"F2N":case"F3N":b.unshift(c+"_"+l.p1.join(" "));break;case"F2Y":b.unshift(c+"_"+l.p1.join(" ")+"|"+l.p2.join(" "));break;case"F3Y":b.unshift(c+"_"+l.p1.join(" ")+"|"+l.p2.join(" ")+"|"+l.p3.join(" "))}k[d]=b.join(";"),b.length||k.removeItem(d),a||q()},s=function(a){$("#"+a).find("li").removeClass("cur"),l.p1=[],l.p2=[],l.p3=[]},t=function(){var a=0,b=+$("#beishu").val(),c=[],e=+$("#followNum").val().trim();return k[d]&&(c=k[d].split(";"),$.each(c,function(b,c){var d=c.split("_")[0],e=c.split("_")[1];switch(d){case"A2":case"A3":case"A4":case"A5":case"A6":case"A7":case"A8":case"F1":case"F2N":case"F3N":var f=+d.slice(1,2),g=e.split(" ").length;a+=o(g,f);break;case"F2Y":case"F3Y":var h=1;$.each(e.split("|"),function(a,b){h*=(b.length+1)/3}),a+=h}})),a*=2*b*e,$("#operate .sure").html("共"+a+"元 付款"),a},u=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";if(!$("#betSure li").length||!k[d])return e.show("投注号码不能为空"),!1;var h={sourceType:2,rawBetNumbers:k[d],betTimes:+a,gameId:m.gameId,periodNo:m.periodNo,price:100*b},i=parseInt(c);i>1&&(g="/ajax/order/followbet.html",h={rawBetNumbers:k[d],followPeriodNums:i,ordertype:2,sourceType:2,gameId:m.gameId,price:100*b,betTimes:+a}),v(f,g,h)},v=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(k.login_next=1,void f.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),k.removeItem(d),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(e.show(b.retdesc),a.data("st",1).removeClass("disable")))})},w=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),h=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(t(),!0):(e.show(c,function(){a.val(1),t()}),!1)};r(),f=t(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+m.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");r(b),a.parents("li.cc").remove(),f=t()}),c.on("input",function(){""!==$(this).val().trim()&&h($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&h($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),k.removeItem(d),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();h(c,999,"倍数必须是1-999的正整数")&&h(g,100,"连续购买期数必须是1-100的正整数")&&u.call(this,a,f,b)})},x=function(a){switch(a){case"A2":case"A3":case"A4":case"A5":case"A6":case"A7":case"A8":case"F1":case"F2N":case"F3N":var b=+a.slice(1,2);return l.p1.length>=b||(e.show("请至少选"+b+"个号码"),!1);case"F2Y":return l.p1.length&&l.p2.length||(e.show("每位至少选择1个号码"),!1);case"F3Y":return l.p1.length&&l.p2.length&&l.p3.length||(e.show("每位至少选择1个号码"),!1)}},y=function(a,b){$(this).addClass("cur"),l[a].push(b),l[a]=_.sortBy(l[a],function(a){return+a})},z=function(a,b){$(this).removeClass("cur"),l[a]=_.filter(l[a],function(a){return a!=b})},A=function(a){$("#"+a).find("li").on("tap",function(){var b=$(this),c=b.html(),d=b.data("pos");b.hasClass("cur")?z.call(this,d,c):(y.call(this,d,c),2==a.indexOf("Y")&&function(){var a=c-1,d=b.parent().siblings("ul");d.each(function(){var b=$(this).find("li").eq(a),d=b.data("pos");z.call(b[0],d,c)})}())})},B=function(){$.post("/ajax/system/getTime/ms.html",function(a){h.systemTime=a,p()});var a=$("#operate .empty"),b=$("#operate .sure");$("header .dropdown,header h3 span").on("tap",function(){var a=m.type;$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(i,function(){$("#d11Type li").on("tap",function(){var b=$(this),c=b.data("id"),d=b.find("span").html();m.type=c,b.addClass("cur").siblings().removeClass("cur"),$("#d11_play").html(m.gameCn+"-"+d),$("#"+c).show().siblings(".d11_toggle").hide(),$("header .dropdown").removeClass("droped"),g.hide(),s(a)})}):g.hide()}),a.on("tap",function(){s(m.type)}),b.on("tap",function(){return l.p1.length+l.p2.length+l.p3.length?x(m.type)&&w():e.show("请先选择投注号码"),!1}),k.login_next&&w()};c.init=function(){var a=window.data?JSON.parse(window.data):{};h=a,m.gameId=h.game.gameId||"d11sd",m.gameCn=h.game.gameCn||"11选5",d="bet_"+m.gameId,B();for(var b in n)A(b)}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}],17:[function(a,b,c){var d=a("../../common/js/iscroll-lite.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=(a("../../common/js/panel.js"),a("../../common/js/passport.js")),h=(a("../../common/js/calc.js").C,a("../../common/js/dateformat.js"),null),i="_selected",j="selectedIdx",k='<div class="main-select insure-wrapper" id="MainSelect" >    <div class="scroll-wrapper ">        <ul class="item-list jc-sure-list">            <% for(var i=0,l=data.length;i<l; i++){ %>            <li data-matchno="<%=data[i]["gameMatchNo"]%>">                <p class="jc-time">                <% var parseTime = function(time){                       return parseInt(time) < 10 ? "0" + time:time;                    };                %>                    <%=data[i][\'leagueName\']%><br/><span class="grey"><%=parseTime(new Date(data[i][\'kickOffTime\']).getHours())%>:<%=parseTime(new Date(data[i][\'kickOffTime\']).getMinutes())%></span>                </p>                <p class="jc-sure">                    <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>" <%if(data[i][\'selectedIdx\'][0]){ %>class="selected"<%}%>><%=data[i]["homeTeamName"]%><br/><em>3</em>                    </span>                                        <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>"  <%if(data[i][\'selectedIdx\'][1]){ %>class="selected"<%}%>>                        VS                        <br/><em>1</em>                    </span>                                        <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>"  <%if(data[i][\'selectedIdx\'][2]){ %>class="selected"<%}%>><%=data[i][\'awayTeamName\']%>                    <br/><em>0</em>                    </span>                </p>            </li>            <%}%>        </ul>        <p style="height:10px;">&nbsp;</p>    </div></div><div class="play-method item-list">        <span>       投<input id="MultiNum" type="number" name="" value="1" />&nbsp;倍    </span>    <span class="red" id="NoteNumber">5000</span>注    <span class="red" id="TotleMoney">1000000</span>元</div>',l=function(a,b){var c={},d=0;return $(a).forEach(function(a){var e=[0,0,0];if($(a).find(b).forEach(function(a,b){$(a).hasClass("selected")&&(e[b]=1)}),$(a).find(b+".selected").length){var f=$(a).data("matchno");c[f]||(c[f]={}),c[f]=e,d++}}),c.length=d,c},m=function(){{var a=[],b=l(".jc-sure-list>li",".jc-sure>span");$(this)}return b.length<14?a:(Object.keys(b).forEach(function(c){var d="";3==b[c].length&&(b[c][0]&&(d+="3"),b[c][1]&&(d+="1"),b[c][2]&&(d+="0"),a.push(d))}),a)},n=function(a){return/^[1-9]\d*$/.test(a)&&1e5>a?(u(),!0):(e.show("请输入1到99999之间的整数",function(){$("#MultiNum").val(1),u()}),!1)},o=function(){var a=m(),b=$(this),c=$("#MultiNum").val(),d=parseInt($("#TotleMoney").text());return n(c)?a.length<14?void e.show("请每场至少选取一项进行投注"):d>99e4?void e.show("订单金额不能高于99万！"):void(+b.data("st")||(b.data("st",1),a=a.join(" "),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:a,sourceType:2,gameId:h.availablePeriod.gameId,periodNo:h.availablePeriod.periodNo,price:100*d,betTimes:c},success:function(a){if(401==+a.retcode&&(g.toLogin(),b.data("st",0)),a.result&&a.result.payOrderId){try{localStorage.removeItem(i)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId)},300),b.data("st",1),!1;window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId),b.data("st",1)}else b.data("st",0),e.show(a.retdesc)}}))):!1},p=function(){var a=0;$(".jc-list>li").forEach(function(b){$(b).find(".jc-bets p.selected").length&&a++}),$("#MatchSelected").html(a),$("#MatchNotSelect").html(14-a)},q=function(){var a=m(),b=1;if(14!=a.length)$("#NoteNumber").html("0"),b=0;else{for(var c=a.length-1;c>=0;c--)b*=a[c].length;$("#NoteNumber").html(b)}return b},r=function(a){var b=[];return h.gameMatchList.forEach(function(c){a[c.gameMatchNo]&&(c[j]=a[c.gameMatchNo],c[j]&&b.push(c))}),b},s=function(a,b){var c=r(a);$("#StepWrapper").html(_.template(k,{data:c,type:b})),v(),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("返回<span><em></em></span>").click(function(a){a.preventDefault();var b=l(".jc-sure-list>li",".jc-sure>span");try{localStorage[i]=JSON.stringify(b)}catch(c){}location.reload()}),$(".base-bar .sure").off().html("确定").tap(function(){var a=l(".jc-sure-list>li",".jc-sure>span");if(a.length<14)return void e.show("请每场至少选取一项进行投注");u();var b=l(".jc-sure-list>li",".jc-sure>span");try{localStorage[i]=JSON.stringify(b)}catch(c){}o.call(this)}).on("click",function(a){a.preventDefault()}),u()},t=function(a){$(".jc-bets p").tap(function(){$(this).toggleClass("selected"),p()}),$(".help").tap(function(){var a=l(".jc-list>li",".jc-bets p");try{localStorage[i]=JSON.stringify(a)}catch(b){}}),$(".base-bar .empty").tap(function(){if(($(".jc-bets p.selected").length||$(".jc-sure span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-bets p").removeClass("selected"),$(".jc-sure span").removeClass("selected"),u(),p(),$("#MultiNum").val("1");try{localStorage.removeItem(i)}catch(a){}}}),$(".base-bar .sure").tap(function(b){b.preventDefault();var c=l(".jc-list>li",".jc-bets p");if(c.length<14)return void e.show("请每场至少选取一项进行投注");try{localStorage[i]=JSON.stringify(c)}catch(d){}s(c,a),u()}),$(window).on("resize",function(){w()}),$(document.body).on("orientationchange",function(){w()})},u=function(){var a=$("#MultiNum").val(),b=q();$("#TotleMoney").html(b*a*2)},v=function(){$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-$("#headInfo").height()-20),$(".jc-sure span").tap(function(a){a.preventDefault(),$("#MultiNum").blur(),$(this).toggleClass("selected"),$(this).closest("li").find(".jc-sure .selected").length||$(this).closest("li").find(".dan span").removeClass("selected"),u()}),$(".help").off().tap(function(){var a=l(".jc-sure-list>li",".jc-sure>span");try{localStorage[i]=JSON.stringify(a)}catch(b){}}),$("#MultiNum").on("blur",function(){var a=$(this).val();n(a)}),new d("#MainSelect",{bounce:!1})},w=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-$("#headInfo").height()-20)};c.init=function(a){i=a+i,w();var b=JSON.parse(window.data);h=b,b.availablePeriod.periodNo&&$("#headInfo .period").html(b.availablePeriod.periodNo),b.availablePeriod.endTime&&$("#headInfo .end-time .red").html(new Date(parseInt(b.availablePeriod.endTime)).Format("yyyy-MM-dd hh:mm:ss")),b.gameMatchList.forEach(function(a){a[j]=[];var b=new Date(+a.kickOffTime);a.kickOffTimeStr=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)});var c=[];try{c=JSON.parse(localStorage[i]||"[]")}catch(e){}b.gameMatchList.forEach(function(a){c[a.gameMatchNo]&&(a[j]=c[a.gameMatchNo])}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),p(),new d("#MainSelect",{bounce:!1}),t(a)}},{"../../common/js/calc.js":1,"../../common/js/dateformat.js":2,"../../common/js/iscroll-lite.js":4,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],18:[function(a,b,c){var d=a("../../common/js/iscroll-lite.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=(a("../../common/js/panel.js"),a("../../common/js/passport.js")),h=(a("../../common/js/dateformat.js"),a("../../common/js/calc.js").C),i=null,j="_selected",k="selectedIdx",l='<div class="main-select insure-wrapper" id="MainSelect" >    <div class="scroll-wrapper ">        <ul class="item-list jc-sure-list">            <% for(var i=0,l=data.length;i<l; i++){ %>            <li data-matchno="<%=data[i]["gameMatchNo"]%>">                <p class="jc-time">                <% var parseTime = function(time){                       return parseInt(time) < 10 ? "0" + time:time;                    };                %>                    <%=data[i][\'leagueName\']%><br/><span class="grey"><%=parseTime(new Date(data[i][\'kickOffTime\']).getHours())%>:<%=parseTime(new Date(data[i][\'kickOffTime\']).getMinutes())%></span>                </p>                <p class="jc-sure">                    <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>" <%if(data[i][\'selectedIdx\'][\'games\'][0]){ %>class="selected"<%}%>><%=data[i]["homeTeamName"]%><br/><em>3</em>                    </span>                                        <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>"  <%if(data[i][\'selectedIdx\'][\'games\'][1]){ %>class="selected"<%}%>>                        VS                        <br/><em>1</em>                    </span>                                        <span data-spsno="<%=data[i][\'gameMatchNo\']%>" data-sps="<%=data[i][\'gameMatchNo\']%>"  <%if(data[i][\'selectedIdx\'][\'games\'][2]){ %>class="selected"<%}%>><%=data[i][\'awayTeamName\']%>                    <br/><em>0</em>                    </span>                </p>                <p class="jc-dan">                    <span <%if(data[i][\'selectedIdx\'][\'dan\']) { %>class="selected"<%}%>>胆</span>                </p>            </li>            <%}%>        </ul>        <p style="height:10px;">&nbsp;</p>    </div></div><div class="play-method item-list">        <span>       投<input id="MultiNum" type="number" name="" value="1" />&nbsp;倍    </span>    <span class="red" id="NoteNumber">1</span>注    <span class="red" id="TotleMoney">2</span>元</div>',m=function(a,b){var c={},d=0;return $(a).forEach(function(a){var e=$(a).data("matchno"),f=[0,0,0],g=0;$(a).find(b).forEach(function(a,b){$(a).hasClass("selected")&&(f[b]=1)}),$(a).find(".jc-dan span").forEach(function(a,b){0===b&&$(a).hasClass("selected")&&(g=1)}),(f[0]||f[1]||f[2])&&(e&&(c[e]||(c[e]={}),c[e].games=[],c[e].dan=0),c[e].games=f,c[e].dan=g,d++)}),c.length=d,c},n=function(){{var a=[],b=m(".jc-sure-list>li",".jc-sure>span");$(this)}return b.length<9?a:(i.gameMatchList.forEach(function(c){var d="";b[c.gameMatchNo]?(3==b[c.gameMatchNo].games.length&&(b[c.gameMatchNo].games[0]&&(d+="3"),b[c.gameMatchNo].games[1]&&(d+="1"),b[c.gameMatchNo].games[2]&&(d+="0")),""!==d&&b[c.gameMatchNo].dan&&(d+="$")):d="-",a.push(d)}),a)},o=function(a){return/^[1-9]\d*$/.test(a)&&1e5>a?(r(),!0):(e.show("请输入1到99999之间的整数",function(){$("#MultiNum").val(1),r()}),!1)},p=function(){var a=n(),b=a.filter(function(a){return"-"!=a}),c=$(this);if(b.length<9)return void e.show("请至少选取9场比赛进行投注");var d=n();r();var f=$("#MultiNum").val(),h=parseInt($("#TotleMoney").text());return o(f)?h>99e4?void e.show("订单金额不能高于99万！"):void(+c.data("st")||(c.data("st",1),d=d.join(" "),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:i.availablePeriod.gameId,periodNo:i.availablePeriod.periodNo,price:100*h,betTimes:f},success:function(a){if(401==+a.retcode&&(g.toLogin(),c.data("st",0)),a.result&&a.result.payOrderId){try{localStorage.removeItem(j)}catch(b){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId)},300),c.data("st",1),!1;window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId),c.data("st",1)}else c.data("st",0),e.show(a.retdesc)}}))):!1},q=function(){var a=0;$(".jc-list>li").forEach(function(b){$(b).find(".jc-bets p.selected").length&&a++}),$(".game-f9 .base-bar .sure .sub").html("已选"+a+"场")},r=function(){var a=0,b=n(),c=$("#MultiNum").val(),d=b.filter(function(a){return"-"!=a}),e=d.filter(function(a){return-1!=a.indexOf("$")});e=e.map(function(a){return a.length-1});var f=d.filter(function(a){return-1==a.indexOf("$")});f=f.map(function(a){return a.length});var g=h.listC(f,9-e.length);_.each(g,function(b){a+=_.reduce(b,function(a,b){return a*b},1)});for(var i in e)a*=e[i];d.length<9?($("#NoteNumber").html("0"),$("#TotleMoney").html("0")):($("#NoteNumber").html(a),$("#TotleMoney").html(a*c*2))},s=function(a){var b=[];return i.gameMatchList.forEach(function(c){a[c.gameMatchNo]&&(c[k].games=a[c.gameMatchNo].games,c[k].games&&b.push(c))}),b},t=function(a,b){var c=s(a);$("#StepWrapper").html(_.template(l,{data:c,type:b})),v(),$("header h3").html("任选9场"),$("header span").remove(),$("header .left a").html("任选9场<span><em></em></span>").click(function(a){a.preventDefault();var b=m(".jc-sure-list>li",".jc-sure>span");try{localStorage[j]=JSON.stringify(b)}catch(c){}location.reload()}),$("header .help").html("添加比赛").removeClass("help").addClass("add-game").click(function(a){a.preventDefault();var b=m(".jc-sure-list>li",".jc-sure>span");try{localStorage[j]=JSON.stringify(b)}catch(c){}location.reload()}),$(".base-bar .sure").off().html("确定").tap(function(){var a=m(".jc-sure-list>li",".jc-sure>span");if(a.length<9)return e.show("请至少选取九场比赛进行投注"),!1;try{localStorage[j]=JSON.stringify(a)}catch(b){}p.call(this)}).on("click",function(a){a.preventDefault()}),$(".base-bar .empty").off().html("清空").tap(function(){if(($(".jc-sure span.selected").length||$(".jc-dan span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-dan span").removeClass("selected"),$(".jc-sure span").removeClass("selected"),r();try{localStorage.removeItem(j)}catch(a){}}}).on("click",function(a){a.preventDefault()}),r()},u=function(a){$(".jc-bets p").tap(function(){$(this).toggleClass("selected"),q()}),$(".help").tap(function(){var a=m(".jc-list>li",".jc-bets p");try{localStorage[j]=JSON.stringify(a)}catch(b){}}),$(".base-bar .empty").tap(function(){if(($(".jc-bets p.selected").length||$(".jc-sure span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-bets p").removeClass("selected"),$(".jc-sure span").removeClass("selected"),q();try{localStorage.removeItem(j)}catch(a){}}}),$(".base-bar .sure").tap(function(b){b.preventDefault();var c=m(".jc-list>li",".jc-bets p");if(c.length<9)return void e.show("请至少选择九场比赛进行投注");try{localStorage[j]=JSON.stringify(c)}catch(d){}t(c,a),r()}),$(window).on("resize",function(){w()}),$(document.body).on("orientationchange",function(){w()})},v=function(){$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-$("#headInfo").height()-20),$(".jc-sure span").tap(function(a){a.preventDefault(),$("#MultiNum").blur(),$(this).toggleClass("selected"),$(this).closest("li").find(".jc-sure .selected").length||$(this).closest("li").find(".jc-dan span").removeClass("selected");var b=n(),c=b.filter(function(a){return"-"!=a}),d=c.filter(function(a){return-1!=a.indexOf("$")});c.length<10&&d.length>0&&(e.show("设胆玩法必须选择10场或者10场以上的比赛"),$(".jc-dan span").removeClass("selected")),r()}),$(".jc-dan span").tap(function(a){a.preventDefault(),$("#MultiNum").blur(),$(this).toggleClass("selected"),$(this).closest("li").find(".jc-sure .selected").length||$(this).removeClass("selected");var b=n(),c=b.filter(function(a){return"-"!=a}),d=c.filter(function(a){return-1!=a.indexOf("$")});if(d.length>0&&d.length<9){if(c.length<10)return e.show("设胆玩法必须选择10场或者10场以上的比赛"),$(this).removeClass("selected"),!1}else{if(d.length>8)return e.show("最多只能选8个胆"),$(this).removeClass("selected"),!1;if(c.length<9)return e.show("请至少选取9场比赛进行投注"),$(this).removeClass("selected"),!1}r()}),$("#MultiNum").on("blur",function(){var a=$(this).val();o(a)}),new d("#MainSelect",{bounce:!1})},w=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-$("#headInfo").height()-20)};c.init=function(a){j=a+j,w();var b=JSON.parse(window.data);i=b,b.availablePeriod.periodNo&&$("#headInfo .period").html(b.availablePeriod.periodNo),b.availablePeriod.endTime&&$("#headInfo .end-time .red").html(new Date(parseInt(b.availablePeriod.endTime)).Format("yyyy-MM-dd hh:mm:ss")),b.gameMatchList.forEach(function(a){a[k]={games:[0,0,0]};var b=new Date(+a.kickOffTime);a.kickOffTimeStr=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)});var c=[];try{c=JSON.parse(localStorage[j]||"[]")}catch(e){}b.gameMatchList.forEach(function(a){c[a.gameMatchNo]&&(a[k].games=c[a.gameMatchNo].games)}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),q(),new d("#MainSelect",{bounce:!1}),u(a)}},{"../../common/js/calc.js":1,"../../common/js/dateformat.js":2,"../../common/js/iscroll-lite.js":4,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],19:[function(a,b,c){var d,e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/panel.js"),h=(a("../../common/js/dateformat.js"),null),i=_.template('<ul class="k3-type d11-type ssc-type fc3d-type" id="fc3dType">    <li data-id="Z1" class="cur"><span>直选普通</span></li>        <li data-id="Z3"><span>组三普通</span></li>        <li data-id="Z6"><span>组六普通</span></li>    </ul>'),j=_.template($("#headInfoTpl").html()),k=window.sessionStorage,l=[[],[],[]],m={type:"Z1",gameId:"fc3d",gameCn:"福彩3D",periodNo:0},n={Z1:"直选普通",Z3:"组三普通",Z6:"组六普通"},o=function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},p=function(){var a=+h.availablePeriod.endTime,b=+new Date-+h.systemTime,c={},d=function(){$.post("/ajax/game/common/"+m.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(d,15e3):d._render=1,d._render&&(d._render=0,h=b.object,a=+h.availablePeriod.endTime,g())):setTimeout(d,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else e.show(c.periodNo+"期已截止投注",function(){d._render=1,d()})},g=function(){if(m.periodNo=h.availablePeriod.periodNo,c.periodNo=m.periodNo.slice(-3),$("#headInfo").html(j(c)),h.openingAwardPeriodNo)$("#kaiNum").html("开奖中..."),d._render&&d();else{var a=h.awardList[0].prizeNumber.split(",")[0];$("#kaiNum").html(a)}f()};d._render=1,g()},q=function(){var a="",b=_.template($("#betLi").html()),c=k[d].split(";"),e=$("#betSure ul");$.each(c,function(c,d){var e=d.split("_")[0],f=d.split("_")[1],g={name:n[e],cont:f.replace(/ /g,","),code:d,css:""};a+=b(g)}),e.html(a)},r=function(a){if(k.login_next)return k.removeItem("login_next"),void q();var b=k[d]?k[d].split(";"):[],c=m.type;if(a)b.splice(b.indexOf(a),1);else switch(c){case"Z1":var e=_.map(l,function(a){return a.join("")}).join(" ");e=$.trim(e),b.unshift(c+"_"+e);break;case"Z3":case"Z6":b.unshift(c+"_"+l[0].join(","))}k[d]=b.join(";"),b.length||k.removeItem(d),a||q()},s=function(a){$("#"+a).find("li").removeClass("cur");for(var b in l)l[b]=[]},t=function(){var a=0,b=+$("#beishu").val(),c=[],e=+$("#followNum").val().trim();return k[d]&&(c=k[d].split(";"),$.each(c,function(b,c){var d=c.split("_")[0],e=c.split("_")[1];switch(d){case"Z1":var f=e.split(" "),g=1;for(b in f)g*=f[b].length;a+=g;break;case"Z3":f=e.split(","),a+=2*o(f.length,2);break;case"Z6":f=e.split(","),a+=o(f.length,3)}})),a*=2*b*e,$("#operate .sure").html("共"+a+"元 付款"),a},u=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";if(!$("#betSure li").length||!k[d])return e.show("投注号码不能为空"),!1;var h={sourceType:2,rawBetNumbers:k[d],betTimes:+a,gameId:m.gameId,periodNo:m.periodNo,price:100*b},i=parseInt(c);i>1&&(g="/ajax/order/followbet.html",h={rawBetNumbers:k[d],followPeriodNums:i,ordertype:2,sourceType:2,gameId:m.gameId,price:100*b,betTimes:+a}),v(f,g,h)},v=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(k.login_next=1,void f.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),k.removeItem(d),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(e.show(b.retdesc),a.data("st",1).removeClass("disable")))})},w=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),h=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(t(),!0):(e.show(c,function(){a.val(1),t()}),!1)};r(),f=t(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+m.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");r(b),a.parent().remove(),f=t()}),c.on("input",function(){""!==$(this).val().trim()&&h($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&h($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),k.removeItem(d),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();h(c,999,"倍数必须是1-999的正整数")&&h(g,100,"连续购买期数必须是1-100的正整数")&&u.call(this,a,t(),b)})},x=function(a){switch(a){case"Z1":for(var b=0;3>b;b++)if(!l[b].length)return e.show("每位至少选择1个号码"),!1;return!0;case"Z3":return l[0].length>=2||(e.show("至少选择2个号码"),!1);case"Z6":return l[0].length>=3||(e.show("至少选择3个号码"),!1)}},y=function(a,b){l[a].push(b),l[a]=_.sortBy(l[a],function(a){return+a})},z=function(a,b){l[a]=_.filter(l[a],function(a){return a!=b})},A=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this),b=a.html(),c=a.parent().data("pos");a.toggleClass("cur"),a.hasClass("cur")?y(c,b):z(c,b)})},B=function(){$.post("/ajax/system/getTime/ms.html",function(a){h.systemTime=a,p()});var a=$("#operate .empty"),b=$("#operate .sure");$("header .dropdown,header h3 span").on("tap",function(){var a=m.type;$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(i,function(){$("#fc3dType li").on("tap",function(){var b=$(this),c=b.data("id"),d=b.find("span").html();m.type=c,b.addClass("cur").siblings().removeClass("cur"),$("#fc3d_play").html(m.gameCn+"-"+d),$("#"+c).show().siblings(".d11_toggle").hide(),$("header .dropdown").removeClass("droped"),g.hide(),s(a)})}):g.hide()}),a.on("tap",function(){s(m.type)}),b.on("tap",function(){var a=0;for(var b in l)a+=l[b].length;return a?x(m.type)&&w():e.show("请先选择投注号码"),!1}),k.login_next&&w()};c.init=function(){var a=window.data?JSON.parse(window.data):{};h=a,m.gameId=h.game.gameId||"fc3d",m.gameCn=h.game.gameCn||"福彩3D",d="bet_"+m.gameId,B();for(var b in n)A(b)}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}],20:[function(a,b,c){var d=a("../../common/js/iscroll4.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=a("../../common/js/panel.js"),h=a("../../common/js/passport.js"),i=a("../../common/js/lq_calc.js").C,j=null,k="_selected",l="selectedIdx",m="",n='<div class="order-wrapper">    <div class="order-title">已选择场比赛 投注截止时间</div>    <div class="order-info">        <div class="order-list">            <% for(var i=0,l=data.length;i<l; i++){ %>                <div class="order-item">                    <div class="item-info">                          <%=data[i][\'selectedIdx\'][\'slet\']%>                                </div>                    <div class="sd"><span>胆</span></div>                </div>            <% } %>        </div>    </div></div>',o=_.template('<ul class="jclq-type">	<li <% if(type==\'mixp\'){ %>class="selected"<% } %> data-href="/jclqmixp/"><span>混合过关</span></li>    <li <% if(type==\'sfp\'){ %>class="selected"<% } %> data-href="/jclqsfp/"><span>胜负</span></li>    <li <% if(type==\'rsfp\'){ %>class="selected"<% } %> data-href="/jclqrsfp/"><span>让分胜负</span></li>    <li <% if(type==\'sfcp\'){ %>class="selected"<% } %> data-href="/jclqsfcp/"><span>胜分差</span></li>    <li <% if(type==\'dxfp\'){ %>class="selected"<% } %> data-href="/jclqdxfp/"><span>大小分</span></li></ul>'),p=null,q=null,r=null,s="",t={"011":"8","012":"8","013":"4","014":"8"},u={"01103":{name:"主胜",index:"0"},"01100":{name:"主负",index:"0"},"01203":{name:"让分主胜",index:"0"},"01200":{name:"让分主负",index:"0"},"01331":{name:"主胜1-5",index:"0"},"01332":{name:"主胜6-10",index:"0"},"01333":{name:"主胜11-15",index:"0"},"01334":{name:"主胜16-20",index:"0"},"01335":{name:"主胜21-25",index:"0"},"01336":{name:"主胜26+",index:"0"},"01301":{name:"客胜1-5",index:"0"},"01302":{name:"客胜6-10",index:"0"},"01303":{name:"客胜11-15",index:"0"},"01304":{name:"客胜16-20",index:"0"},"01305":{name:"客胜21-25",index:"0"},"01306":{name:"客胜26+",index:"0"},"01402":{name:"大分",index:"0"},"01401":{name:"小分",index:"0"}},v=function(){var a=$(this),b=-parseInt(a.closest(".game-select").offset().top);$(".game-jclqsfcp").length&&(b+=35);var c=a.closest(".game-info").find(".bet-select-plan");c.find(".choice").removeClass("cur"),w(c,a),c.find(".submit").attr("data-matchno",a.attr("data-matchno")),c.find(".bf-wrapper").css("top",b+55+"px"),c.find(".layer").css("top",b-5+"px"),c.css("display","block"),$("#base-operate .operate-layer").css("display","block");var e="wrapper-"+a.data("matchno");p.disable(),O($("#"+e)),setTimeout(function(){q=new d(e,{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},w=function(a,b){if(b.hasClass("selected")){var c=b.data("selectspsno").toString().split(" ");c.forEach(function(b,c,d){var e=d[c];a.find(".choice").each(function(){$(this).data("spsno")==e&&$(this).addClass("cur")})})}},x=function(){var a=$(this).closest(".game-info").find(".bet-select-plan");a.hide(),$("#base-operate .operate-layer").hide()},y=function(){var a=$(this).closest(".game-info"),b=a.find(".bet-select-plan"),c=a.find(".mixp-select"),d=b.find(".submit").attr("data-matchno"),e="",f="";c.length&&c.find(".mixp-sps").removeClass("mixp-selected"),b.find(".choice-y .cur").each(function(){var a=$(this),b=a.data("spsno");f+=b+" ",e+=u[b].name+" ",c.find(".mixp-sps").each(function(){$(this).data("spsno")==b&&$(this).addClass("mixp-selected")})}),b.find(".choice-y .cur").length>0?($('.select-score[data-matchno ="'+d+'"]').text(e.trim()).addClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno",f.trim()),a.find(".all-mixp-choice").addClass("all-mixp-selected")):($('.select-score[data-matchno ="'+d+'"]').text(m).removeClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno",""),a.find(".all-mixp-choice").removeClass("all-mixp-selected")),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=A(".game-info",".choice-list .cur");try{r[k]=JSON.stringify(g),localStorage[k]=JSON.stringify(g)}catch(h){}L(),setTimeout(function(){b.hide(),$("#base-operate .operate-layer").hide()},100)},z=function(a,b){var c=B(a),d=F(),e=$("#base-operate .game-num .red").text(),f="已选择"+e+'比赛 投注截止时间<span class="end-time">'+d+"</span>";$("#order-form").html(_.template(n,{data:c,type:b})),$("#order-form").find(".mixp-select, .common-select").hide(),$("#order-form").find(".select-score").css("display","block"),I(b),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("修改<span><em></em></span>").click(function(a){a.preventDefault(),location.reload()}),$("#order-form .order-title").html(f),$("#order-form").css("display","block"),$(".base-bar-2 .base-select-bar").hide(),$(".base-bar-2 .base-info-bar").css("display","block")
},A=function(a,b){var c=0,d={};return $(a).forEach(function(a){var e=[],f=[],g=[],h=[],i=$(a).find(".select-score");if($(a).find(b).forEach(function(a,b){var c=$(a);e[b]=parseFloat(c.data("sps")),f[b]=c.data("spsno"),c.data("lqlet")&&(h[b]=c.data("lqlet")),g[b]=u[c.data("spsno")].index}),i.hasClass("selected")){var j=$(a).find(".game-select").html(),k=i.data("matchno");d[k]||(d[k]={}),d[k].matchno=k,d[k].lqlet=h,d[k].sps=e,d[k].spsno=f,d[k].dan=0,d[k].slet=j,d[k].index=g,c++}}),d.length=c,d},B=function(a){var b=[];return j.currentMatchList.forEach(function(c){c.forEach(function(c){a[c.matchNo]&&(c[l]=a[c.matchNo],c[l]&&b.push(c))})}),b},C=function(a,b){var c=[];try{c=JSON.parse(localStorage[k]||r[k]||"[]")}catch(d){}var e=$("#MultiNum").val(),f=$(".game-info .selected").length;if(!(1>e||e>99999)){var g=0,h=[],j=[],l=[];if($("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),b=$(this).data("matchno");console.log(c[b]);var d=[];c[b].sps.forEach(function(a,e){{var f=[];c[b].lqlet[e]}f.push(c[b].spsno[e],a),c[b].lqlet[e]&&f.push(c[b].lqlet[e]),d.push(f)}),h.push(d),a.find(".sd .cur").length&&j.push(g),g++}),b){var m="",n=G(a,f);m=1==n?"1":n+"_1",l.push(m)}else $(".order-method span.cur").each(function(){l.push($(this).data("type"))});var o=0,p=0;console.log(h,j,l);try{var q=i.JCLQCalc.bonnus(h,j,l);o=q.count,p=q.maxBonnus}catch(d){}var s="<span>"+o+"注x"+e+'倍=<span id="Price" class="red">'+o*e*2+"元</span></span>",t='<span>最大奖金:<span class="red">'+(p*e).toFixed("2")+"元</span></span>";$(".order-money").html(s+"<br>"+t)}},D=!1,E=function(){var a=$(this),b=[],c=$("#MultiNum").val(),d=[];if(!$("#order-form .selected").length)return void e.show("请返回选择比赛进行投注");if(1>c||c>99999)return void e.show("请选择正确的倍数");if(D!==!0){D=!0;try{b=JSON.parse(localStorage[k]||r[k]||"[]")}catch(f){}$("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),c=$(this).data("matchno"),e=[],f=0;e=b[c].spsno,a.find(".sd .cur").length&&(f=1),d.push(c+":"+e.join(".")+":"+f)});var g=$("#default-type").text().trim().replace("单关","1串1");d=d.join(" ")+"|"+g.replace(/串/g,"_"),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:j.gameId,periodNo:"",price:100*parseFloat($("#Price").html()),betTimes:$("#MultiNum").val()},success:function(b){if(401==+b.retcode&&(h.toLogin(),a.data("st",0)),b.result&&b.result.payOrderId){try{r={LS_KEY:{}},localStorage.removeItem(k)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location="/order/pay/detail.html?payOrderId="+b.result.payOrderId},300),a.data("st",1),!1;window.location.assign("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1)}else a.data("st",0),e.show(b.retdesc);D=!1}})}},F=function(){var a="";return $("#game-select-2 .game-info .selected").each(function(b){var c=$(this),d=c.closest(".game-info"),e=d.find(".jc-time").data("endtime"),f=e.split(" "),g="";f[0].split("-").forEach(function(a,b,c){parseInt(c[b])<10&&(c[b]="0"+c[b]),g+=0===b?c[b]:"-"+c[b]}),e=g+" "+f[1],a=0===b?e:e>a?a:e}),a},G=function(a,b){var c=$("#base-operate .order-method .method"),d="",e=1,f="",g=8;"sfp"==a||"rsfp"==a||"dxfp"==a?e=8>=b?b:8:"sfcp"==a?e=4>=b?b:4:"mixp"==a&&($("#order-form .select-score").each(function(){var a=$(this).data("selectspsno").toString().split(" ");a.forEach(function(a,b,c){var d=c[b].substring(0,3);g=t[d]<=g?t[d]:g})}),e=g>=b?b:g),"sfcp"==a&&(d=1==b?'<span class="bet-method cur" data-type="1_1">单关</span>':'<span class="bet-method" data-type="1_1">单关</span>',f="单关");for(var h=2;e>=h;h++)d+=h==e?'<span class="bet-method cur" data-type="'+h+'_1">'+h+"串1</span>":'<span class="bet-method" data-type="'+h+'_1">'+h+"串1</span>",f=e+"串1";return $("#default-type").text(f),c.html(d+'<span class="hide-method">收起<i class="arrow"></i></span>'),K(),e},H=function(){var a=$("#order-form .item-info").length,b=100;return $("#base-operate .method .cur").each(function(){var a=$(this);if("单关"==a.text())return void(b=1);var c=parseInt(a.text());b=b>c?c:b}),100==b||b==a?b=0:b-=1,b},I=function(a,b){var c=$("#order-form"),d=$("#base-operate");c.find(".clear-btn").tap(function(){window.confirm("您真的要清空已选方案？")&&(c.find(".order-wrapper").remove(),r={LS_KEY:{}},localStorage.removeItem(k),$(".order-money").html("<span>最大奖金：</span>"))}),c.find(".sd span").tap(function(){var b=$(this),d=H();if(b.hasClass("cur"))b.removeClass("cur");else{if(!(c.find(".sd .cur").length<d)||b.hasClass("cur"))return;b.addClass("cur")}C(a,!1)}),$(".base-info-bar").not("input").on("tap",function(){$("input").blur()}),$("input").on("tap",function(a){a.stopPropagation()}),d.find("input").on("blur",function(){var b=($(this),$(this).val().trim());""===b&&(d.find("input").val(1),C(a,!1)),setTimeout(function(){N(),setTimeout(function(){p.refresh()},100)},300)}),d.find("input").on("change",function(){var c=($(this),$(this).val().trim());""!==c&&(J(c)?J(c)&&parseInt(c)>99999?(d.find("input").val(99999),e.show("倍数不能超过99999",function(){C(a,!1)})):(d.find("input").val(c),C(a,!1)):(d.find("input").val(1),e.show("请输入小于99999的整数",function(){C(a,!1,b)})))}),d.find(".submit-btn").tap(function(){E()})},J=function(a){return/^[1-9]\d*$/.test(a)?!0:!1},K=function(a){var b=$("#order-form"),c=($("#default-type"),$("#base-operate")),d=c.find(".order-method");c.find(".bet-type").tap(function(){c.find(".order-operate").hide(),d.css("display","block"),N(),setTimeout(function(){p.refresh()},100)}),c.find(".hide-method").tap(function(){var a="";return c.find(".cur").length?(c.find(".cur").each(function(b){a+=0===b?$(this).text():","+$(this).text()}),$("#default-type").text(a),$("input").blur(),d.hide(),void setTimeout(function(){c.find(".order-operate").css("display","-webkit-box"),N(),setTimeout(function(){p.refresh()},100)},500)):void e.show("请至少选择一种过关方式")}),c.find(".bet-method").tap(function(){var d=$(this),e="";d.toggleClass("cur");var f=H(),g=b.find(".sd .cur").length;g>f&&b.find(".sd .cur").removeClass("cur"),c.find(".cur").each(function(a){e+=0===a?$(this).text():","+$(this).text()}),$("#default-type").text(e),c.find(".bet-method").length?C(a,!1):$(".order-money").html("<span>最大奖金：</span>")})},L=function(){q.destroy(),p.enable()},M=function(a){var b=$(document).height(),c=window.innerHeight;$(".layer").css("height",c>b?c:b),$(".layer").css("width",2*window.innerWidth),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场"),$(".select-score").on("tap",function(){return $(this).hasClass("selected")||15!==$(".game-info .selected").length?void v.call($(this)):void e.show("最多选择15场比赛")}),$(".all-mixp-choice").on("tap",function(){$(this).closest(".game-select").find(".select-score").trigger("tap")}),$(".bet-select-plan .cancel").on("tap",function(){L();var a=$(this);setTimeout(function(){x.call(a)},100)}),$(".bet-select-plan .submit").on("tap",function(){y.call($(this))}),$(".bet-select-plan .choice").on("tap",function(){return $(this).hasClass("unsupport")?void e.show("本场次不支持此玩法"):void $(this).toggleClass("cur")}),$(".toggle-game-list").tap(function(){$(this).closest(".item-list").find(".game-info-list").toggleClass("hide-game-list"),$(this).toggleClass("close-game-list"),setTimeout(function(){p.refresh()},100)}),$(".base-bar-2 .empty").tap(function(){if($(".game-select .selected").length&&window.confirm("您真的要清空已选方案？")){$(".game-select .selected").removeClass("selected").text(m),$(".common-selected").removeClass("common-selected"),$(".base-bar-2 .game-num .red").text("0场"),$(".choice-list .choice").removeClass("cur"),$(".mixp-select").length&&$(".mixp-select .mixp-sps").removeClass("mixp-selected")&&$(".mixp-select .all-mixp-choice").removeClass("all-mixp-selected");try{r={LS_KEY:{}},localStorage.removeItem(k)}catch(a){}}}),$(".common-select .common-sps").tap(function(){var a=$(this);if(a.hasClass("unsupport"))return void e.show("本场次不支持此玩法");var b=(a.data("spsno"),""),c="",d=a.closest(".game-info");a.toggleClass("common-selected"),d.find(".common-sps").each(function(){var a=$(this);a.hasClass("common-selected")&&(c+=a.data("spsno")+" ",b+=u[a.data("spsno")].name+" ")}),""!==b.trim()?d.find(".select-score").addClass("selected"):d.find(".select-score").removeClass("selected"),d.find(".select-score").text(b.trim()).data("selectspsno",c.trim()),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var f=A(".game-info",".common-selected");try{r[k]=JSON.stringify(f),localStorage[k]=JSON.stringify(f)}catch(g){}}),$(".mixp-select .mixp-sps").tap(function(){var a=$(this);if(a.hasClass("unsupport"))return void e.show("本场次不支持此玩法");var b=a.data("spsno"),c="",d="",f=a.closest(".game-info");a.hasClass("mixp-selected")?(a.removeClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.data("spsno")==b&&a.removeClass("cur"),a.hasClass("cur")&&(d+=a.data("spsno")+" ",c+=u[a.data("spsno")].name+" ")})):(a.addClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.data("spsno")==b&&a.addClass("cur"),a.hasClass("cur")&&(d+=a.data("spsno")+" ",c+=u[a.data("spsno")].name+" ")})),""!==c.trim()?(f.find(".select-score").addClass("selected"),f.find(".all-mixp-choice").addClass("all-mixp-selected")):(f.find(".select-score").removeClass("selected"),f.find(".all-mixp-choice").removeClass("all-mixp-selected")),f.find(".select-score").text(c.trim()).data("selectspsno",d.trim()),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=A(".game-info",".choice-list .cur");try{r[k]=JSON.stringify(g),localStorage[k]=JSON.stringify(g)}catch(h){}}),$(window).on("resize",function(){N();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");O($(a))}})}),$(document.body).on("orientationchange",function(){N();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");O($(a))}})}),$("header .dropdown,header h3 span").tap(function(){$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(o({type:a})):g.hide()}),$(document.body).on("tap",".jclq-type span",function(){$(this).closest("li").hasClass("selected")?(g.hide(),$("header .dropdown").toggleClass("droped")):location.href=$(this).closest("li").data("href")}),$(".base-bar-2 .sure").tap(function(){if($(".game-info .selected").length>15)return void e.show("最多选择15场比赛");if(!($(".game-select .selected").length>1||"sfcp"==a&&$(".game-select .selected").length>0))return void e.show("请至少选择两场比赛");$("#game-select-2").hide();var b={};b="mixp"==a||"sfcp"==a?A(".game-info",".choice-list .cur"):A(".game-info",".common-selected"),z(b,a);try{r[k]=JSON.stringify(b),localStorage[k]=JSON.stringify(b)}catch(c){}C(a,!0),N(),setTimeout(function(){p.refresh()},100)}),setTimeout(function(){p=new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},N=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height)},O=function(a){if(a.length){var b,c=a.closest(".bf-select"),d=c.find(".operate").offset().height+30,e=window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height-d;b=a.find(".mixp-choice-wrapper").length?a.find(".mixp-choice-wrapper").offset().height:a.find(".choice-wrapper").offset().height,a.css("height",b>e?e:b)}};c.init=function(a){s=a,a=a.replace("jclq",""),"sfcp"==a?m="点击选择胜分差":"mixp"==a&&(m="点击选择投注方案"),k=a+k,N(),r={LS_KEY:{}};var b=JSON.parse(window.data);j=b,b.currentMatchList.forEach(function(a){a.forEach(function(a){a[l]={};var b=new Date(+a.officialEndTime);a.officialEndTime=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)})});var c=[];try{c=JSON.parse(localStorage[k]||r[k]||"[]")}catch(d){}b.currentMatchList.forEach(function(a){a.forEach(function(a){c[a.matchNo]&&(a[l]=c[a.matchNo])})}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),$(".select-score").each(function(){var a=$(this),b=a.closest(".game-info").find(".bet-select-plan");w(b,a)}),M(a)}},{"../../common/js/iscroll4.js":5,"../../common/js/lq_calc.js":6,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],21:[function(a,b,c){var d=a("../../common/js/iscroll4.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=a("../../common/js/panel.js"),h=a("../../common/js/passport.js"),i=a("../../common/js/calc.js").C,j=null,k="_selected",l="selectedIdx",m='<div class="main-select insure-wrapper" id="MainSelect" >    <div class="scroll-wrapper ">        <ul class="item-list jc-sure-list">            <% for(var i=0,l=data.length;i<l; i++){ %>            <li data-matchno="<%=data[i]["matchNo"]%>">                <p class="jc-sure">                    <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][0]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][0]%>" <%if(data[i][\'selectedIdx\'][\'games\'][0]){ %>class="selected"<%}%>><%=data[i]["displayHomeName"]%></span>                                        <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][1]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][1]%>"  <%if(data[i][\'selectedIdx\'][\'games\'][1]){ %>class="selected"<%}%>>                        <% if(type == \'rsfp\'){ %>                                                <% if(+data[i][\'selectedIdx\'][\'slet\']<0){ %>                        <em class="green">(<%=data[i][\'selectedIdx\'][\'slet\']%>)</em>                        <% }else{ %>                        <em class="red">(<%=data[i][\'selectedIdx\'][\'slet\']%>)</em>                        <% } %>                                                <% } %>                        平                    </span>                                        <span data-spsno="<%=data[i][\'selectedIdx\'][\'spno\'][2]%>" data-sps="<%=data[i][\'selectedIdx\'][\'sps\'][2]%>"  <%if(data[i][\'selectedIdx\'][\'games\'][2]){ %>class="selected"<%}%>><%=data[i][\'displayAwayName\']%></span>                </p>                <p class="dan">                    <span>胆</span>                </p>            </li>            <%}%>        </ul>        <p style="height:10px;">&nbsp;</p>    </div></div><div class="play-method-wrapper">    <ul class="play-method item-list">        <li class="method <%if(data.length/5>1){%>multi-method<%}%>" id="MethodWrapper">            <% for(var i=1,l=data.length;i<l&&i<8;i++){%>            <span><%=i+1%>串1</span>            <% } %>        </li>        <li>            倍数:<input id="MultiNum" type="number" name="" value="1" />&nbsp;(最高99999倍)        </li>        <li class="num">金额:</li>        <li class="award">最大奖金: </li>    </ul></div>',n=_.template('<ul class="jczq-type">    <li <% if(type==\'spfp\'){ %>class="selected"<% } %> data-href="/jczqspfp/"><span>胜平负</span></li>    <li <% if(type==\'rsfp\'){ %>class="selected"<% } %> data-href="/jczqrsfp/"><span>让球胜平负</span></li>    <li <% if(type==\'bfp\'){ %>class="selected"<% } %> data-href="/jczqbfp/"><span>比分</span></li>    <li <% if(type==\'zjqp\'){ %>class="selected"<% } %> data-href="/jczqzjqp/"><span>总进球数</span></li>    <li <% if(type==\'bqcp\'){ %>class="selected"<% } %> data-href="/jczqbqcp/"><span>半全场</span></li>    <li <% if(type==\'mixp\'){ %>class="selected"<% } %> data-href="/jczqmixp/"><span>混合过关</span></li> </ul>'),o=-1,p=-1,q=function(){if(!$(".jc-sure-list li .jc-sure span.selected").length||!$(".play-method span.selected").length)return $(".play-method .num").html("金额:"),void $(".play-method .award").html("最大奖金:");var a=$("#MultiNum").val();if(!(1>a||a>99999)){var b=[],c=[],d=[],e=0;$(".jc-sure-list li").forEach(function(a){if($(a).find(".jc-sure span.selected").length){var d=[];$(a).find(".jc-sure span.selected").forEach(function(a){d.push(+$(a).data("sps"))}),b.push(d.sort()),$(a).find(".dan span.selected").length&&c.push(e),e++}}),$(".play-method span.selected").forEach(function(a){d.push($(a).html())});var f=i.JCZQ_Calc.calCount(!0,b,c,d,[0,0,0,0,0,0,0,0,0]),g=i.JCZQ_Calc.calExtreme(!0,b,c,d,[0,0,0,0,0,0,0,0,0]);$(".play-method .num").html('金额:<span class="red">'+f+'</span>注&nbsp;<span class="red" id="Price">'+f*a*2+"</span>元"),$(".play-method .award").html('最大奖金: <span class="red">'+(g.max*a*2).toFixed("2")+"</span>元")}},r=function(){var a=s(".jc-sure-list>li",".jc-sure>span"),b=$(this);if(a.length<2)return void e.show("请至少选择两场比赛");if(a.length>15)return void e.show("选择比赛不能超过15场");if(!$("#MethodWrapper .selected").length)return void e.show("请选择过关方式");var c=$("#MultiNum").val();if(1>c||c>99999)return void e.show("请选择正确的倍数");if(!+b.data("st")){b.data("st",1);var d=[];Object.keys(a).forEach(function(b){if(a[b].games){var c=[];a[b].games.forEach(function(d,e){d&&c.push(a[b].spno[e])}),d.push(b+":"+c.join(".")+":"+a[b].dan)}}),d=d.join(" ")+"|"+[].slice.call($("#MethodWrapper .selected")).map(function(a){return $(a).html().replace("串","_")}).join(","),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:j.gameId,periodNo:"",price:100*parseFloat($("#Price").html()),betTimes:$("#MultiNum").val()},success:function(a){if(401==+a.retcode&&(h.toLogin(),b.data("st",0)),a.result&&a.result.payOrderId){try{localStorage.removeItem(k)}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId)},300),b.data("st",1),!1;window.location.replace("/order/pay/detail.html?payOrderId="+a.result.payOrderId),b.data("st",1)}else b.data("st",0),e.show(a.retdesc)}})}},s=function(a,b){var c={},d=0;return $(a).forEach(function(a){var e=[0,0,0],f=[1,1,1],g=[0,0,0];if($(a).find(b).forEach(function(a,b){f[b]=parseFloat($(a).find(".sps").data("sps"))||parseFloat($(a).data("sps")),g[b]=$(a).find(".sps").data("spsno")||$(a).data("spsno"),$(a).hasClass("selected")&&(e[b]=1)}),$(a).find(b+".selected").length){var h=$(a).data("matchno");c[h]||(c[h]={}),c[h].games=e,c[h].sps=f,c[h].spno=g,c[h].dan=+!!$(a).find(".dan .selected").length,c[h].slet=$($(a).find(b).get(1)).find("span").html(),d++}}),c.length=d,c},t=function(){var a=0;$(".jc-list>li").forEach(function(b){$(b).find(".jc-bets p.selected").length&&a++}),$("#MatchSelected").html(a)},u=function(a){var b=[];return j.currentMatchList.forEach(function(c){c.forEach(function(c){a[c.matchNo]&&(c[l]=a[c.matchNo],c[l]&&c[l].games&&parseInt(c[l].games.join(""))&&b.push(c))})}),b},v=function(){var a=$(".dan span");a.length==p?(a.removeClass().addClass("disabled"),x()):a.forEach($(".dan span.disabled").length==a.length?function(a){$(a).closest("li").find(".jc-sure .selected").length&&$(a).removeClass()}:o>0&&$(".dan span.selected").length>=o-1?function(a){$(a).hasClass("selected")||$(a).addClass("disabled")}:$(".dan span.selected").length>=s(".jc-sure-list li",".jc-sure span").length-1?function(a){$(a).hasClass("selected")||$(a).addClass("disabled")}:function(a){$(a).closest("li").find(".jc-sure .selected").length&&$(a).removeClass("disabled")})},w=function(a,b){var c=u(a);$("#StepWrapper").html(_.template(m,{data:c,type:b})),y(),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("返回<span><em></em></span>").click(function(a){a.preventDefault();var b=s(".jc-sure-list>li",".jc-sure>span");try{localStorage[k]=JSON.stringify(b)}catch(c){}location.reload()}),$(".base-bar .sure").off().html("付款").tap(function(){r.call(this)}).on("click",function(a){a.preventDefault()}),2==c.length&&($("#MethodWrapper span").addClass("selected"),o=p=2,v(),q())},x=function(){var a=[].slice.call($("#MethodWrapper").find(".selected"));a=a.map(function(a){return parseInt($(a).html())});for(var b=s(".jc-sure-list li",".jc-sure span").length,c=$(".dan .selected").length,d=Math.min(b,8),e=d-(c||1),f="",g=0;e>g;g++){var h="";h="<span",-1!=a.indexOf(d-g)&&(h+=' class="selected"'),h+=">"+(d-g)+"串1</span>",f=h+f}$("#MethodWrapper").html(f)},y=function(){$("#MainSelect").css("height",document.body.offsetHeight-$("header").height()-$(".base-bar").height()-$(".play-method").height()-12),$(".jc-sure span").tap(function(a){a.preventDefault(),$(this).toggleClass("selected"),$(this).closest("li").find(".jc-sure .selected").length||$(this).closest("li").find(".dan span").removeClass("selected"),x(),q()}),$("#MultiNum").change(function(){var a=$("#MultiNum").val();return 1>a||a>99999?($(".play-method .num").html("金额:"),void $(".play-method .award").html("最大奖金:")):void q()}),$(".dan span").on("tap",function(a){a.preventDefault(),$(this).closest("li").find(".jc-sure .selected").length&&($(this).hasClass("disabled")||$(this).toggleClass("selected"),v(),x(),q())}),$("#MethodWrapper").on("tap","span",function(){$(this).toggleClass("selected");var a=$(this).parent().find(".selected").map(function(a,b){return parseInt($(b).html())});a=[].slice.call(a).sort(),o=a[a.length-1],p=a[0],v(),q()}),new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},z=function(a){$(".jc-bets p").tap(function(){$(this).toggleClass("selected"),t()}),$(".base-bar .empty").tap(function(){if(($(".jc-bets p.selected").length||$(".jc-sure span.selected").length)&&window.confirm("您真的要清空已选号码？")){$(".jc-bets p").removeClass("selected"),$(".jc-sure span").removeClass("selected"),$(".dan span").removeClass("selected"),$("#MethodWrapper span").removeClass("selected"),t();try{localStorage.removeItem(k)}catch(a){}}}),$(".base-bar .sure").tap(function(b){b.preventDefault();var c=s(".jc-list>li",".jc-bets p");if(c.length<2)return void e.show("请至少选择两场比赛");if(c.length>15)return void e.show("选择比赛不能超过15场");try{localStorage[k]=JSON.stringify(c)}catch(d){}w(c,a)}),$("header .dropdown,header h3 span").tap(function(){$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(n({type:a})):g.hide()}),$(document.body).on("tap",".jczq-type span",function(){g.hide(),$(this).closest("li").hasClass("selected")?$("header .dropdown").toggleClass("droped"):location.href=$(this).closest("li").data("href")}),$(window).on("resize",function(){A()}),$(document.body).on("orientationchange",function(){A()})},A=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",window.innerHeight-$("header").offset().height-$(".base-bar").offset().height)};c.init=function(a){a=a.replace("jczq",""),k=a+k,A();var b=JSON.parse(window.data);j=b,b.currentMatchList.forEach(function(a){a.forEach(function(a){a[l]={games:[0,0,0]};var b=new Date(+a.officialEndTime);a.officialEndTime=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)})});var c=[];try{c=JSON.parse(localStorage[k]||"[]")}catch(e){}b.currentMatchList.forEach(function(a){a.forEach(function(a){c[a.matchNo]&&(a[l]=c[a.matchNo])})}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),t(),new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1}),z(a)}},{"../../common/js/calc.js":1,"../../common/js/iscroll4.js":5,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],22:[function(a,b,c){var d=a("../../common/js/iscroll4.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/tools.js"),g=a("../../common/js/panel.js"),h=a("../../common/js/passport.js"),i=a("../../common/js/calc.js").C,j=a("../../common/js/hh_calc.js").C,k=null,l="_selected",m="selectedIdx",n="",o='<div class="order-wrapper">    <div class="order-title">已选择3场比赛 投注截止时间2014-04-15 17:15</div>    <div class="order-info">        <div class="order-list">            <% for(var i=0,l=data.length;i<l; i++){ %>                <div class="order-item">                    <div class="item-info">                          <%=data[i][\'selectedIdx\'][\'slet\']%>                                </div>                    <div class="sd"><span>胆</span></div>                </div>            <% } %>        </div>    </div></div>',p=_.template('<ul class="jczq-type">    <li <% if(type==\'spfp\'){ %>class="selected"<% } %> data-href="/jczqspfp/"><span>胜平负</span></li>    <li <% if(type==\'rsfp\'){ %>class="selected"<% } %> data-href="/jczqrsfp/"><span>让球胜平负</span></li>    <li <% if(type==\'bfp\'){ %>class="selected"<% } %> data-href="/jczqbfp/"><span>比分</span></li>    <li <% if(type==\'zjqp\'){ %>class="selected"<% } %> data-href="/jczqzjqp/"><span>总进球数</span></li>    <li <% if(type==\'bqcp\'){ %>class="selected"<% } %> data-href="/jczqbqcp/"><span>半全场</span></li>    <li <% if(type==\'mixp\'){ %>class="selected"<% } %> data-href="/jczqmixp/"><span>混合过关</span></li> </ul>'),q=null,r=null,s=null,t="",u={111:"8",112:"8",113:"4",114:"6",115:"4"},v={11103:{name:"主胜",index:"0"},11101:{name:"平",index:"1"},11100:{name:"主负",index:"2"},11203:{name:"让球胜",index:"3"},11201:{name:"让球平",index:"4"},11200:{name:"让球负",index:"5"},11310:{name:"1:0",index:"6"},11320:{name:"2:0",index:"7"},11321:{name:"2:1",index:"8"},11330:{name:"3:0",index:"9"},11331:{name:"3:1",index:"10"},11332:{name:"3:2",index:"11"},11340:{name:"4:0",index:"12"},11341:{name:"4:1",index:"13"},11342:{name:"4:2",index:"14"},11350:{name:"5:0",index:"15"},11351:{name:"5:1",index:"16"},11352:{name:"5:2",index:"17"},11390:{name:"胜其他",index:"18"},11300:{name:"0:0",index:"19"},11311:{name:"1:1",index:"20"},11322:{name:"2:2",index:"21"},11333:{name:"3:3",index:"22"},11399:{name:"平其他",index:"23"},11301:{name:"0:1",index:"24"},11302:{name:"0:2",index:"25"},11312:{name:"1:2",index:"26"},11303:{name:"0:3",index:"27"},11313:{name:"1:3",index:"28"},11323:{name:"2:3",index:"29"},11304:{name:"0:4",index:"30"},11314:{name:"1:4",index:"31"},11324:{name:"2:4",index:"32"},11305:{name:"0:5",index:"33"},11315:{name:"1:5",index:"34"},11325:{name:"2:5",index:"35"},11309:{name:"负其他",index:"36"},11400:{name:"0球",index:"37"},11401:{name:"1球",index:"38"},11402:{name:"2球",index:"39"},11403:{name:"3球",index:"40"},11404:{name:"4球",index:"41"},11405:{name:"5球",index:"42"},11406:{name:"6球",index:"43"},11407:{name:"7球+",index:"44"},11533:{name:"胜胜",index:"45"},11531:{name:"胜平",index:"46"},11530:{name:"胜负",index:"47"},11513:{name:"平胜",index:"48"},11511:{name:"平平",index:"49"},11510:{name:"平负",index:"50"},11503:{name:"负胜",index:"51"},11501:{name:"负平",index:"52"},11500:{name:"负负",index:"53"}},w=function(){var a=$(this),b=parseInt(a.closest(".game-info").height()),c=parseInt(a.closest(".game-select").offset().top)+35;$(".mixp-choice-wrapper").length&&(c+=35);var e=b-c,f=a.closest(".game-info").find(".bet-select-plan");f.find(".choice").removeClass("cur"),x(f,a),f.find(".submit").attr("data-matchno",a.attr("data-matchno")),f.find(".bf-wrapper").css("top",e+"px"),f.find(".layer").css("top",e-5+"px"),f.css("display","block"),$("#base-operate .operate-layer").css("display","block");var g="wrapper-"+a.data("matchno");q.disable(),O($("#"+g)),setTimeout(function(){r=new d(g,{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},x=function(a,b){if(b.hasClass("selected")){var c=b.data("selectspsno").toString().split(" ");c.forEach(function(b,c,d){var e=d[c];a.find(".choice .bet-odds").each(function(){$(this).data("spsno")==e&&$(this).closest(".choice").addClass("cur")})})}},y=function(){var a=$(this).closest(".game-info").find(".bet-select-plan");a.hide(),$("#base-operate .operate-layer").hide()},z=function(){var a=$(this).closest(".game-info"),b=a.find(".bet-select-plan"),c=a.find(".mixp-select"),d=b.find(".submit").attr("data-matchno"),e="",f="";c.length&&c.find(".mixp-sps").removeClass("mixp-selected"),b.find(".choice-y .cur .bet-plan").each(function(){var a=$(this),b=a.siblings(".bet-odds").data("spsno");f+=b+" ",e+=v[b].name+" ",b>=11100&&11203>=b&&c.length&&c.find(".mixp-sps").each(function(){$(this).data("spsno")==b&&$(this).addClass("mixp-selected")})}),b.find(".choice-y .cur .bet-plan").length?($('.select-score[data-matchno ="'+d+'"]').text(e.trim()).addClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno",f.trim()),a.find(".all-mixp-choice").addClass("all-mixp-selected")):($('.select-score[data-matchno ="'+d+'"]').text(n).removeClass("selected"),$('.select-score[data-matchno ="'+d+'"]').data("selectspsno",""),a.find(".all-mixp-choice").removeClass("all-mixp-selected")),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=B(".game-info",".choice-list .cur");try{s[l]=JSON.stringify(g),localStorage[l]=JSON.stringify(g)}catch(h){}L(),setTimeout(function(){b.hide(),$("#base-operate .operate-layer").hide()},100)},A=function(a,b){var c=C(a),d=F(),e=$("#base-operate .game-num .red").text(),f="已选择"+e+'比赛 投注截止时间<span class="end-time">'+d+"</span>";$("#order-form").html(_.template(o,{data:c,type:b})),"mixp"==b&&($("#order-form").find(".mixp-select").hide(),$("#order-form").find(".select-score").css("display","block")),I(b),$("header h3").html("投注确认"),$("header span").remove(),$("header .left a").html("修改<span><em></em></span>").click(function(a){a.preventDefault(),location.reload()}),$("#order-form .order-title").html(f),$("#order-form").css("display","block"),$(".base-bar-2 .base-select-bar").hide(),$(".base-bar-2 .base-info-bar").css("display","block")},B=function(a,b){var c=0,d={};return $(a).forEach(function(a){var e=[],f=[],g=[],h=[],i=$(a).find(".select-score");if($(a).find(b).forEach(function(a,b){var c=$(a).find(".bet-odds");e[b]=parseFloat(c.data("sps")),f[b]=c.data("spsno"),c.data("rqs")&&(h[b]=c.data("rqs")),g[b]=v[c.data("spsno")].index}),i.hasClass("selected")){var j=$(a).find(".game-select").html(),k=i.data("matchno");d[k]||(d[k]={}),d[k].matchno=k,d[k].rqs=h,d[k].sps=e,d[k].spsno=f,d[k].dan=0,d[k].slet=j,d[k].index=g,c++}}),d.length=c,d},C=function(a){var b=[];return k.currentMatchList.forEach(function(c){c.forEach(function(c){a[c.matchNo]&&(c[m]=a[c.matchNo],c[m]&&b.push(c))})}),b},D=function(a,b){var c=[];try{c=JSON.parse(localStorage[l]||s[l]||"[]")}catch(d){}var e=$("#MultiNum").val(),f=$(".game-info .selected").length;if(!(1>e||e>99999)){var g=0,h=[],k=[],m=[],n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if($("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),b=$(this).data("matchno");if("jczqmixp"==t){var d=[];c[b].sps.forEach(function(a,e){var f=[],g=c[b].rqs[e];f.push(parseInt(c[b].index[e]),a),g>0?f.push("+"+g):0>g&&f.push(g),d.push(f)}),h.push(d)}else h.push(c[b].sps.sort(function(a,b){return a-b}));a.find(".sd .cur").length&&k.push(g),g++}),b){var o="",p=G(a,f);o=1==p?"单关":p+"串1",m.push(o)}else $(".order-method span.cur").each(function(){m.push($(this).html())});var q=0,r=0;if("jczqmixp"==t){var u=j.hhcalc.calculateBet(h,k,m,n);q=u.count,r=u.max}else q=i.JCZQ_Calc.calCount(!0,h,k,m,n),r=i.JCZQ_Calc.calExtreme(!0,h,k,m,n).max;var v="<span>"+q+"注x"+e+'倍=<span id="Price" class="red">'+q*e*2+"元</span></span>",w='<span>最大奖金:<span class="red">'+(r*e*2).toFixed("2")+"元</span></span>";$(".order-money").html(v+"<br>"+w)}},E=function(){var a=$(this),b=[],c=$("#MultiNum").val(),d=[];if(!$("#order-form .selected").length)return void e.show("请返回选择比赛进行投注");if(1>c||c>99999)return void e.show("请选择正确的倍数");if(!+a.data("st")){a.data("st",1);try{b=JSON.parse(localStorage[l]||s[l]||"[]")}catch(f){}$("#order-form .selected").each(function(){var a=$(this).closest(".order-item"),c=$(this).data("matchno"),e=[],f=0;e=b[c].spsno,a.find(".sd .cur").length&&(f=1),d.push(c+":"+e.join(".")+":"+f)});var g=$("#default-type").text().trim().replace("单关","1串1");d=d.join(" ")+"|"+g.replace(/串/g,"_"),$.ajax({type:"POST",url:"/ajax/order/bet/do.html",data:{rawBetNumbers:d,sourceType:2,gameId:k.gameId,periodNo:"",price:100*parseFloat($("#Price").html()),betTimes:$("#MultiNum").val()},success:function(b){if(401==+b.retcode&&(h.toLogin(),a.data("st",0)),b.result&&b.result.payOrderId){try{s={LS_KEY:{}},localStorage.removeItem(l)
}catch(c){}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300),a.data("st",1),!1;window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1)}else a.data("st",0),e.show(b.retdesc)}})}},F=function(){var a="";return $("#game-select-2 .game-info .selected").each(function(b){var c=$(this),d=c.closest(".game-info"),e=d.find(".jc-time").data("endtime"),f=e.split(" "),g="";f[0].split("-").forEach(function(a,b,c){parseInt(c[b])<10&&(c[b]="0"+c[b]),g+=0===b?c[b]:"-"+c[b]}),e=g+" "+f[1],a=0===b?e:e>a?a:e}),a},G=function(a,b){var c=$("#base-operate .order-method .method"),d="",e=1,f="",g=8;"bfp"==a||"bqcp"==a?e=4>=b?b:4:"zjqp"==a?e=6>=b?b:6:"mixp"==a&&($("#order-form .select-score").each(function(){var a=$(this).data("selectspsno").toString().split(" ");a.forEach(function(a,b,c){var d=c[b].substring(0,3);g=u[d]<=g?u[d]:g})}),e=g>=b?b:g),"bfp"==a&&(d=1==b?'<span class="bet-method cur">单关</span>':'<span class="bet-method">单关</span>',f="单关");for(var h=2;e>=h;h++)d+=h==e?'<span class="bet-method cur">'+h+"串1</span>":'<span class="bet-method">'+h+"串1</span>",f=e+"串1";return $("#default-type").text(f),c.html(d+'<span class="hide-method">收起<i class="arrow"></i></span>'),K(),e},H=function(){var a=$("#order-form .item-info").length,b=100;return $("#base-operate .method .cur").each(function(){var a=$(this);if("单关"==a.text())return void(b=1);var c=parseInt(a.text());b=b>c?c:b}),100==b||b==a?b=0:b-=1,b},I=function(a,b){var c=$("#order-form"),d=$("#base-operate");c.find(".clear-btn").tap(function(){window.confirm("您真的要清空已选方案？")&&(c.find(".order-wrapper").remove(),s={LS_KEY:{}},localStorage.removeItem(l),$(".order-money").html("<span>最大奖金：</span>"))}),c.find(".sd span").tap(function(){var b=$(this),d=H();if(b.hasClass("cur"))b.removeClass("cur");else{if(!(c.find(".sd .cur").length<d)||b.hasClass("cur"))return;b.addClass("cur")}D(a,!1)}),$(".base-info-bar").not("input").on("tap",function(){$("input").blur()}),$("input").on("tap",function(a){a.stopPropagation()}),d.find("input").on("blur",function(){var c=($(this),$(this).val().trim());""===c?(d.find("input").val(1),D(a,!1)):J(c)?J(c)&&parseInt(c)>99999?(d.find("input").val(99999),e.show("倍数不能超过99999",function(){D(a,!1)})):(d.find("input").val(c),D(a,!1)):(d.find("input").val(1),e.show("请输入小于99999的整数",function(){D(a,!1,b)})),setTimeout(function(){N(),setTimeout(function(){q.refresh()},100)},300)}),d.find(".submit-btn").tap(function(){E()})},J=function(a){return/^[1-9]\d*$/.test(a)?!0:!1},K=function(a){var b=$("#order-form"),c=($("#default-type"),$("#base-operate")),d=c.find(".order-method");c.find(".bet-type").tap(function(){c.find(".order-operate").hide(),d.css("display","block"),N(),setTimeout(function(){q.refresh()},100)}),c.find(".hide-method").tap(function(){var a="";return c.find(".cur").length?(c.find(".cur").each(function(b){a+=0===b?$(this).text():","+$(this).text()}),$("#default-type").text(a),$("input").blur(),d.hide(),void setTimeout(function(){c.find(".order-operate").css("display","-webkit-box"),N(),setTimeout(function(){q.refresh()},100)},500)):void e.show("请至少选择一种过关方式")}),c.find(".bet-method").tap(function(){var d=$(this),e="";d.toggleClass("cur");var f=H(),g=b.find(".sd .cur").length;g>f&&b.find(".sd .cur").removeClass("cur"),c.find(".cur").each(function(a){e+=0===a?$(this).text():","+$(this).text()}),$("#default-type").text(e),c.find(".bet-method").length?D(a,!1):$(".order-money").html("<span>最大奖金：</span>")})},L=function(){r.destroy(),q.enable()},M=function(a){var b=$(document).height(),c=window.innerHeight;$(".layer").css("height",c>b?c:b),$(".layer").css("width",2*window.innerWidth),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场"),$(".select-score").on("tap",function(){return $(this).hasClass("selected")||15!==$(".game-info .selected").length?void w.call($(this)):void e.show("最多选择15场比赛")}),$(".all-mixp-choice").on("tap",function(){$(this).closest(".game-select").find(".select-score").trigger("tap")}),$(".bet-select-plan .cancel").on("tap",function(){L();var a=$(this);setTimeout(function(){y.call(a)},100)}),$(".bet-select-plan .submit").on("tap",function(){z.call($(this))}),$(".bet-select-plan .choice").on("tap",function(){return $(this).hasClass("unsupport")?void e.show("本场次不支持此玩法"):void $(this).toggleClass("cur")}),$(".toggle-game-list").tap(function(){$(this).closest(".item-list").find(".game-info-list").toggleClass("hide-game-list"),$(this).toggleClass("close-game-list"),setTimeout(function(){q.refresh()},100)}),$(".base-bar-2 .empty").tap(function(){if($(".game-select .selected").length&&window.confirm("您真的要清空已选方案？")){$(".game-select .selected").removeClass("selected").text(n),$(".base-bar-2 .game-num .red").text("0场"),$(".choice-list .choice").removeClass("cur"),$(".mixp-select").length&&$(".mixp-select .mixp-sps").removeClass("mixp-selected")&&$(".mixp-select .all-mixp-choice").removeClass("all-mixp-selected");try{s={LS_KEY:{}},localStorage.removeItem(l)}catch(a){}}}),$(".mixp-select .mixp-sps").tap(function(){var a=$(this);if(a.hasClass("unsupport"))return void e.show("本场次不支持此玩法");var b=a.data("spsno"),c="",d="",f=a.closest(".game-info");a.hasClass("mixp-selected")?(a.removeClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.find(".bet-odds").data("spsno")==b&&a.removeClass("cur"),a.hasClass("cur")&&(d+=a.find(".bet-odds").data("spsno")+" ",c+=v[a.find(".bet-odds").data("spsno")].name+" ")})):(a.addClass("mixp-selected"),f.find(".bet-select-plan .choice").each(function(){var a=$(this);a.find(".bet-odds").data("spsno")==b&&a.addClass("cur"),a.hasClass("cur")&&(d+=a.find(".bet-odds").data("spsno")+" ",c+=v[a.find(".bet-odds").data("spsno")].name+" ")})),""!==c.trim()?(f.find(".select-score").addClass("selected"),f.find(".all-mixp-choice").addClass("all-mixp-selected")):(f.find(".select-score").removeClass("selected"),f.find(".all-mixp-choice").removeClass("all-mixp-selected")),f.find(".select-score").text(c.trim()).data("selectspsno",d.trim()),$(".base-bar-2 .game-num .red").text($(".game-info .selected").length+"场");var g=B(".game-info",".choice-list .cur");try{s[l]=JSON.stringify(g),localStorage[l]=JSON.stringify(g)}catch(h){}}),$(window).on("resize",function(){N();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");O($(a))}})}),$(document.body).on("orientationchange",function(){N();var a=$(document).height(),b=window.innerHeight;$(".layer").css("height",b>a?b:a),$(".layer").css("width",2*window.innerWidth),$(".bet-select-plan").each(function(){if("block"==$(this).css("display")){var a="#wrapper-"+$(this).data("matchno");O($(a))}})}),$("header .dropdown,header h3 span").tap(function(){$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(p({type:a})):g.hide()}),$(document.body).on("tap",".jczq-type span",function(){g.hide(),$(this).closest("li").hasClass("selected")?$("header .dropdown").toggleClass("droped"):location.href=$(this).closest("li").data("href")}),$(".base-bar-2 .sure").tap(function(){if($(".game-info .selected").length>15)return void e.show("最多选择15场比赛");if("bfp"==a){if(!$(".game-select .selected").length)return void e.show("请至少选择一场比赛");$("#game-select-2").hide()}else{if(!($(".game-select .selected").length>1))return void e.show("请至少选择两场比赛");$("#game-select-2").hide()}var b=B(".game-info",".choice-list .cur");A(b,a);try{s[l]=JSON.stringify(b),localStorage[l]=JSON.stringify(b)}catch(c){}D(a,!0),N(),setTimeout(function(){q.refresh()},100)}),setTimeout(function(){q=new d("MainSelect",{hScrollbar:!1,vScrollbar:!1,useTransition:!0,bounce:!1})},100)},N=function(){$(document.body).css("height",window.innerHeight),$("#MainSelect").css("height",window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height)},O=function(a){if(a.length){var b,c=a.closest(".bf-select"),d=c.find(".operate").offset().height+30,e=window.innerHeight-$("header").offset().height-$(".base-bar-2").offset().height-d;b=a.find(".mixp-choice-wrapper").length?a.find(".mixp-choice-wrapper").offset().height:a.find(".choice-wrapper").offset().height,a.css("height",b>e?e:b)}};c.init=function(a){t=a,a=a.replace("jczq",""),"bfp"==a?n="点击选择比分":"bqcp"==a?n="点击选择半全场赛果":"zjqp"==a?n="点击选择总进球数":"mixp"==a&&(n="点击选择投注方案"),l=a+l,N(),s={LS_KEY:{}};var b=JSON.parse(window.data);k=b,b.currentMatchList.forEach(function(a){a.forEach(function(a){a[m]={};var b=new Date(+a.officialEndTime);a.officialEndTime=f.addZero(b.getHours(),2)+":"+f.addZero(b.getMinutes(),2)})});var c=[];try{c=JSON.parse(localStorage[l]||s[l]||"[]")}catch(d){}b.currentMatchList.forEach(function(a){a.forEach(function(a){c[a.matchNo]&&(a[m]=c[a.matchNo])})}),$("#MatchList").parent().html(_.template($("#MatchList").html(),b)),$(".select-score").each(function(){var a=$(this),b=a.closest(".game-info").find(".bet-select-plan");x(b,a)}),M(a)}},{"../../common/js/calc.js":1,"../../common/js/hh_calc.js":3,"../../common/js/iscroll4.js":5,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tools.js":10,"../../common/js/tooltip.js":11}],23:[function(a,b,c){var d=a("../../common/js/tooltip.js"),e=a("../../common/js/passport.js"),f=a("../../common/js/panel.js"),g=(a("../../common/js/dateformat.js"),null),h=_.template('<ul class="k3-type" id="k3Type">    <li data-id="k3hz"><span>和值</span></li>    <li data-id="k3thtx"><span>三同号通选</span></li>    <li data-id="k3thdx"><span>三同号单选</span></li>    <li data-id="k3bth" class="cur"><span>三不同号</span></li>    <li data-id="k3lhtx"><span>三连号通选</span></li>    <li data-id="k2thfx"><span>二同号复选</span></li>    <li data-id="k2thdx"><span>二同号单选</span></li>    <li data-id="k2bth"><span>二不同号</span></li></ul>'),i=_.template($("#headInfoTpl").html()),j=window.sessionStorage,k=function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},l={type:"k3bth",gameId:"",gameCn:"",periodNo:""},m={k3bth:"3BT_",k3hz:"HZ_",k3thtx:"AAA_",k3thdx:"AAA_",k3lhtx:"3LH_",k2thfx:"AA_",k2thdx:"AAX_",k2bth:"2BT_"},n={"3BT":"三不同号",HZ:"和值",AAA:"三同号","3LH":"三连号",AA:"二同号复选",AAX:"二同号单选","2BT":"二不同号"},o=[],p={th:[],bth:[]},q="",r=function(){var a=+g.availablePeriod.endTime,b=+new Date-+g.systemTime,c={},e=function(){$.post("/ajax/game/highfrequency/"+l.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(e,15e3):e._render=1,e._render&&(e._render=0,g=b.object,a=+g.availablePeriod.endTime,h())):setTimeout(e,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else d.show(c.periodNo+"期已截止投注",function(){e._render=1,e()})},h=function(){if(l.periodNo=g.availablePeriod.periodNo,c.periodNo=l.periodNo.slice(-2),$("#headInfo").html(i(c)),g.openingAwardPeriodNo)$("#kaiNum").html("<b>开奖中...</b>"),e._render&&e();else{var a=g.awardList[0].prizeNumber.split(",");$("#kaiNum").html("<b>"+a[0]+"</b> 和值 <b>"+a[1]+"</b>")}f()};e._render=1,h()},s=function(a){$("#"+a).find("li").removeClass("cur"),"k2thdx"==a?p={th:[],bht:[]}:o=[]},t=function(a,b){var c=$(this),e="/ajax/order/bet/do.html";if(!$("#betSure ul li").length)return void d.show("投注号码不能为空");var f={sourceType:2,rawBetNumbers:j[q],betTimes:+a,gameId:l.gameId,periodNo:l.periodNo,price:100*x(1)},g=parseInt(b);g>1&&(e="/ajax/order/followbet.html",f={rawBetNumbers:j[q],followPeriodNums:g,ordertype:2,sourceType:2,gameId:l.gameId,price:100*x(1),betTimes:+a}),u(c,e,f)},u=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(j.login_next=1,void e.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),j.removeItem(q),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(d.show(b.retdesc),a.data("st",1).removeClass("disable")))})},v=function(){var a="",b=_.template($("#betLi").html()),c=j[q].split(";"),d=$("#betSure ul");$.each(c,function(c,d){var e=d.split("_")[0],f=d.split("_")[1];"*"==f&&(f="通选"),a+=b({name:n[e],cont:f,code:d})}),d.html(a)},w=function(a){var b=j[q]?j[q].split(";"):[];a?b.splice(b.indexOf(a),1):"k2thdx"==l.type?p.th.length+p.bth.length&&b.unshift(m[l.type]+p.th+"|"+p.bth):o.length&&b.unshift(m[l.type]+(-1!="k2bth,k3bth".indexOf(l.type)?o.join(""):o)),j[q]=b.join(";"),b.length||j.removeItem(q),a||v()},x=function(a){var b=0,c=+$("#beishu").val(),d=[],e=+$("#followNum").val().trim();return j[q]&&(d=j[q].split(";"),$.each(d,function(a,c){var d=c.split("_")[0],e=c.split("_")[1];b+="AAX"==d?e.split("|")[0].split(",").length*e.split("|")[1].split(",").length:"2BT"==d?k(e.split("").length,2):"3BT"==d?k(e.split("").length,3):e.split(",").length})),b*=2*c*e,a?b:$("#operate .sure").html("共"+b+"元 付款")},y=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),e=$("#followNum"),f=function(a,b,c){var e=a.val().trim();return/^[1-9][0-9]*$/.test(e)&&b>=e?(x(),!0):(d.show(c,function(){a.val(1),x()}),!1)};w(),x(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+l.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),j.removeItem(q),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=e.val().trim();f(c,999,"倍数必须是1-999的正整数")&&f(e,100,"连续购买期数必须是1-100的正整数")&&t.call(this,a,b)}),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");w(b),a.parents("li.cc").remove(),x()}),c.on("input",function(){""!==$(this).val().trim()&&f($(this),999,"倍数必须是1-999的正整数")}),e.on("input",function(){""!==$(this).val().trim()&&f($(this),100,"连续购买期数必须是1-100的正整数")})},z=function(a){switch(a){case"k2thdx":return p.th.length&&p.bth.length||(d.show("请至少选一注号码"),!1);case"k2bth":return o.length>=2||(d.show("请至少选2个号码"),!1);case"k3bth":return o.length>=3||(d.show("请至少选3个号码"),!1);default:return!0}},A=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this),b=a.data("v");a.hasClass("cur")?(a.removeClass("cur"),o=_.filter(o,function(a){return a!=b})):(a.addClass("cur"),o.push(b)),o=_.sortBy(o,function(a){return parseInt(a)})})},B=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this);a.toggleClass("cur"),o=a.hasClass("cur")?["*"]:[]})},C=function(){var a=function(a){var b=a.data("v"),c=a.data("t");a.addClass("cur"),p[c].push(b),p[c]=_.sortBy(p[c],function(a){return+a})},b=function(a){var b=a.data("v"),c=a.data("t");a.removeClass("cur"),p[c]=_.filter(p[c],function(a){return a!=b})};$("#k2thdx li").on("tap",function(){var c=$(this),d=c.data("v")%10-1,e=$("#k2thdx").find("li."+c.data("x")).eq(d);c.hasClass("cur")?b(c):(a(c),b(e))})},D=function(){$.post("/ajax/system/getTime/ms.html",function(a){g.systemTime=a,r()});var a=$("#operate .empty"),b=$("#operate .sure");$("header .dropdown,header h3 span").tap(function(){var a=l.type;$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?f.show(h,function(){$("#k3Type li").on("tap",function(){var b=$(this),c=b.data("id"),d=b.find("span").html();l.type=c,b.addClass("cur").siblings().removeClass("cur"),$("#k3_play").html(l.gameCn+"-"+d),$("#"+c).show().siblings(".k3_toggle").hide(),$("header .dropdown").removeClass("droped"),s(a),f.hide()})}):f.hide()}),a.on("tap",function(){s(l.type)}),b.on("tap",function(){var a=0;return a="k2thdx"==l.type?p.th.length+p.bth.length:o.length,0===a?d.show("请先选择投注号码"):z(l.type)&&y(),!1}),j.login_next&&(y(),j.removeItem("login_next"))};c.init=function(){var a=window.data?JSON.parse(window.data):{};g=a,l.gameId=g.game.gameId||"k3gx",l.gameCn=g.game.gameCn||"新快3",q="bet_"+l.gameId,D(),A("k3bth"),A("k3hz"),B("k3thtx"),A("k3thdx"),B("k3lhtx"),A("k2thfx"),C(),A("k2bth")}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}],24:[function(a,b,c){var d,e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/panel.js"),h=(a("../../common/js/dateformat.js"),null),i=_.template('<ul class="k3-type d11-type ssc-type pl3-type" id="pl3Type">    <li data-id="Z1" class="cur"><span>直选普通</span></li>        <li data-id="Z3"><span>组三普通</span></li>        <li data-id="Z6"><span>组六普通</span></li>    </ul>'),j=_.template($("#headInfoTpl").html()),k=window.sessionStorage,l=[[],[],[]],m={type:"Z1",gameId:"pl3",gameCn:"排列3",periodNo:0},n={Z1:"直选普通",Z3:"组三普通",Z6:"组六普通"},o=function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},p=function(){var a=+h.availablePeriod.endTime,b=+new Date-+h.systemTime,c={},d=function(){$.post("/ajax/game/common/"+m.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(d,15e3):d._render=1,d._render&&(d._render=0,h=b.object,a=+h.availablePeriod.endTime,g())):setTimeout(d,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else e.show(c.periodNo+"期已截止投注",function(){d._render=1,d()})},g=function(){if(m.periodNo=h.availablePeriod.periodNo,c.periodNo=m.periodNo.slice(-3),$("#headInfo").html(j(c)),h.openingAwardPeriodNo)$("#kaiNum").html("开奖中..."),d._render&&d();else{var a=h.awardList[0].prizeNumber.split(",")[0];$("#kaiNum").html(a)}f()};d._render=1,g()},q=function(){var a="",b=_.template($("#betLi").html()),c=k[d].split(";"),e=$("#betSure ul");$.each(c,function(c,d){var e=d.split("_")[0],f=d.split("_")[1],g={name:n[e],cont:f.replace(/ /g,","),code:d,css:""};a+=b(g)}),e.html(a)},r=function(a){if(k.login_next)return k.removeItem("login_next"),void q();var b=k[d]?k[d].split(";"):[],c=m.type;if(a)b.splice(b.indexOf(a),1);else switch(c){case"Z1":var e=_.map(l,function(a){return a.join("")}).join(" ");e=$.trim(e),b.unshift(c+"_"+e);break;case"Z3":case"Z6":b.unshift(c+"_"+l[0].join(","))}k[d]=b.join(";"),b.length||k.removeItem(d),a||q()},s=function(a){$("#"+a).find("li").removeClass("cur");for(var b in l)l[b]=[]},t=function(){var a=0,b=+$("#beishu").val(),c=+$("#followNum").val().trim(),e=[];return k[d]&&(e=k[d].split(";"),$.each(e,function(b,c){var d=c.split("_")[0],e=c.split("_")[1];switch(d){case"Z1":var f=e.split(" "),g=1;for(b in f)g*=f[b].length;a+=g;break;case"Z3":f=e.split(","),a+=2*o(f.length,2);break;case"Z6":f=e.split(","),a+=o(f.length,3)}})),a*=2*b*c,$("#operate .sure").html("共"+a+"元 付款"),a},u=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";if(!$("#betSure li").length||!k[d])return e.show("投注号码不能为空"),!1;var h={sourceType:2,rawBetNumbers:k[d],betTimes:+a,gameId:m.gameId,periodNo:m.periodNo,price:100*b},i=parseInt(c);i>1&&(g="/ajax/order/followbet.html",h={rawBetNumbers:k[d],followPeriodNums:i,ordertype:2,sourceType:2,gameId:m.gameId,price:100*b,betTimes:+a}),v(f,g,h)},v=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(k.login_next=1,void f.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),k.removeItem(d),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(e.show(b.retdesc),a.data("st",1).removeClass("disable")))})},w=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),h=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(t(),!0):(e.show(c,function(){a.val(1),t()}),!1)};r(),f=t(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+m.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");r(b),a.parent().remove(),f=t()}),c.on("input",function(){""!==$(this).val().trim()&&h($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&h($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),k.removeItem(d),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();h(c,999,"倍数必须是1-999的正整数")&&h(g,100,"连续购买期数必须是1-100的正整数")&&u.call(this,a,t(),b)})},x=function(a){switch(a){case"Z1":console.log(a);for(var b=0;3>b;b++)if(console.log(b),!l[b].length)return e.show("每位至少选择1个号码"),!1;return!0;case"Z3":return l[0].length>=2||(e.show("至少选择2个号码"),!1);case"Z6":return l[0].length>=3||(e.show("至少选择3个号码"),!1)}},y=function(a,b){console.log("pos:",a),l[a].push(b),l[a]=_.sortBy(l[a],function(a){return+a})},z=function(a,b){l[a]=_.filter(l[a],function(a){return a!=b})},A=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this),b=a.html(),c=a.parent().data("pos");a.toggleClass("cur"),a.hasClass("cur")?y(c,b):z(c,b)})},B=function(){$.post("/ajax/system/getTime/ms.html",function(a){h.systemTime=a,p()});var a=$("#operate .empty"),b=$("#operate .sure");$("header .dropdown,header h3 span").on("tap",function(){var a=m.type;$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(i,function(){$("#pl3Type li").on("tap",function(){var b=$(this),c=b.data("id"),d=b.find("span").html();m.type=c,b.addClass("cur").siblings().removeClass("cur"),$("#pl3_play").html(m.gameCn+"-"+d),$("#"+c).show().siblings(".d11_toggle").hide(),$("header .dropdown").removeClass("droped"),g.hide(),s(a)})}):g.hide()}),a.on("tap",function(){s(m.type)}),b.on("tap",function(){var a=0;for(var b in l)a+=l[b].length;return a?x(m.type)&&w():e.show("请先选择投注号码"),!1}),k.login_next&&w()};c.init=function(){var a=window.data?JSON.parse(window.data):{};h=a,m.gameId=h.game.gameId||"pl3",m.gameCn=h.game.gameCn||"排列3",d="bet_"+m.gameId,B();for(var b in n)A(b)}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}],25:[function(a,b,c){var d,e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=(a("../../common/js/panel.js"),a("../../common/js/dateformat.js"),null),h=_.template($("#headInfoTpl").html()),i=window.sessionStorage,j=[[],[],[],[],[]],k={type:"Z1",gameId:"pl5",gameCn:"排列5",periodNo:0},l=function(){var a=+g.availablePeriod.endTime,b=+new Date-+g.systemTime,c={},d=function(){$.post("/ajax/game/common/"+k.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(d,15e3):d._render=1,d._render&&(d._render=0,g=b.object,a=+g.availablePeriod.endTime,i())):setTimeout(d,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else e.show(c.periodNo+"期已截止投注",function(){d._render=1,d()})},i=function(){if(k.periodNo=g.availablePeriod.periodNo,c.periodNo=k.periodNo.slice(-3),$("#headInfo").html(h(c)),g.openingAwardPeriodNo)$("#kaiNum").html("开奖中..."),d._render&&d();else{var a=g.awardList[0].prizeNumber.split(",")[0];$("#kaiNum").html(a)}f()};d._render=1,i()},m=function(){var a="",b=_.template($("#betLi").html()),c=i[d].split(";"),e=$("#betSure ul");$.each(c,function(c,d){var e=d,f={name:"直选普通",cont:e.replace(/ /g,","),code:d,css:""};a+=b(f)}),e.html(a)},n=function(a){if(i.login_next)return i.removeItem("login_next"),void m();var b=i[d]?i[d].split(";"):[];if(a)b.splice(b.indexOf(a),1);else{var c=_.map(j,function(a){return a.join("")}).join(" ");c=$.trim(c),b.unshift(c)}i[d]=b.join(";"),b.length||i.removeItem(d),a||m()},o=function(a){$("#"+a).find("li").removeClass("cur");for(var b in j)j[b]=[]},p=function(){var a=0,b=+$("#beishu").val(),c=[],e=+$("#followNum").val().trim();return i[d]&&(c=i[d].split(";"),$.each(c,function(b,c){var d=c,e=d.split(" "),f=1;for(b in e)f*=e[b].length;a+=f})),a*=2*b*e,$("#operate .sure").html("共"+a+"元 付款"),a},q=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";if(!$("#betSure li").length||!i[d])return e.show("投注号码不能为空"),!1;var h={sourceType:2,rawBetNumbers:i[d],betTimes:+a,gameId:k.gameId,periodNo:k.periodNo,price:100*b},j=parseInt(c);j>1&&(g="/ajax/order/followbet.html",h={rawBetNumbers:i[d],followPeriodNums:j,ordertype:2,sourceType:2,gameId:k.gameId,price:100*b,betTimes:+a}),r(f,g,h)},r=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(i.login_next=1,void f.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),i.removeItem(d),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(e.show(b.retdesc),a.data("st",1).removeClass("disable")))})},s=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),h=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(p(),!0):(e.show(c,function(){a.val(1),p()}),!1)};n(),f=p(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+k.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");n(b),a.parent().remove(),f=p()}),c.on("input",function(){""!==$(this).val().trim()&&h($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&h($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),i.removeItem(d),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();h(c,999,"倍数必须是1-999的正整数")&&h(g,100,"连续购买期数必须是1-100的正整数")&&q.call(this,a,p(),b)})},t=function(){for(var a=0;5>a;a++)if(!j[a].length)return e.show("每位至少选择1个号码"),!1;return!0},u=function(a,b){console.log("pos:",a),j[a].push(b),j[a]=_.sortBy(j[a],function(a){return+a})},v=function(a,b){j[a]=_.filter(j[a],function(a){return a!=b})},w=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this),b=a.html(),c=a.parent().data("pos");a.toggleClass("cur"),a.hasClass("cur")?u(c,b):v(c,b)})},x=function(){$.post("/ajax/system/getTime/ms.html",function(a){g.systemTime=a,l()});var a=$("#operate .empty"),b=$("#operate .sure");a.on("tap",function(){o(k.type)}),b.on("tap",function(){var a=0;for(var b in j)a+=j[b].length;return a?t()&&s():e.show("请先选择投注号码"),!1}),i.login_next&&s()};c.init=function(){var a=window.data?JSON.parse(window.data):{};g=a,k.gameId=g.game.gameId||"pl5",k.gameCn=g.game.gameCn||"排列5",d="bet_"+k.gameId,x(),w(k.type)}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}],26:[function(a,b,c){var d=a("../../common/js/iscroll-lite.js"),e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/shake.js"),h=(a("../../common/js/dateformat.js"),null),i=null,j="",k={ball:[],type:"",selBall:function(a){var b=$(".ballcon"),c=b.find("span");c.removeClass("active"),a=_.sortBy(a,function(a){return parseInt(a)}),7==a.length&&c.each(function(){for(var b=$(this),c=a.length-1;c>=0;c--)if(+b.html()==a[c]){b.addClass("active");break}})},random:function(a,b,c){var d=_.range(1,a),e=[];return e=_.sortBy(_.sample(d,b)),e=_.map(e,function(a){return 10>a?"0"+a:a.toString()}),c?e:(this.ball=e,void this.selBall(e))},liHtms:function(){var a="",b=_.template($("#betLi").html()),c=null;try{c=localStorage["default_bet_"+j]||h}catch(d){c=h}c=c.split(";");var e=$("#betSure ul");$.each(c,function(c,d){var e={code:d};a+=b(e)}),e.html(a)},updateLs:function(a){var b=this;try{if(localStorage.login_next)return localStorage.removeItem("login_next"),void b.liHtms()}catch(c){}var d=null;try{d=localStorage["default_bet_"+j]||h}catch(c){d=h}var e=d?d.split(";"):[];if(a)e.splice(e.indexOf(a),1);else{var f=_.sortBy(k.ball,function(a){return+a});f=$.trim(f.join(" ")),e.unshift(f)}try{localStorage["default_bet_"+j]=e.join(";"),h=e.join(";"),e.length||localStorage.removeItem("default_bet_"+j)}catch(c){h=e.join(";"),e.length||(h=[])}a||b.liHtms(),k.ball=[]},pay:function(a,b,c){var d="/ajax/order/bet/do.html",f=k,g=(f.betNum(),0),i=$(this);if(g=f.sum(),g>5e6)return e.show("订单金额不能高于5000000元，请您分开投注"),!1;var j="";try{j=localStorage["default_bet_"+a]||h}catch(l){j=h}j||e.show("投注号码不能为空");var m=+$("#beishu").val(),n={rawBetNumbers:j,sourceType:2,gameId:a,price:100*g,periodNo:b,betTimes:m},o=parseInt(c);o>1&&(d="/ajax/order/followbet.html",n={rawBetNumbers:j,followPeriodNums:o,ordertype:2,sourceType:2,gameId:a,price:100*g,betTimes:m}),f.payPost(i,d,n)},payPost:function(a,b,c){a.data("st",0).addClass("disable"),$.ajax({type:"POST",url:b,data:c,success:function(b){if(401==+b.retcode){try{localStorage.login_next=1}catch(c){}return void f.toLogin()}if(b.result&&b.result.payOrderId){try{localStorage.removeItem("default_bet_"+j),h=null}catch(d){h=null}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300),a.data("st",1).removeClass("disable"),!1;window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1).removeClass("disable")}else e.show(b.retdesc),a.data("st",1).removeClass("disable")}})},c:function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},sum:function(){var a="";try{a=localStorage["default_bet_"+j]||h}catch(b){a=h}if(!a)return 0;var c=this.c,d=a.split(";"),e=0,f=+$("#beishu").val(),g=+$("#followNum").val().trim();return d=_.map(d,function(a){return a.split(" ").length}),$.each(d,function(a,b){e+=c(b,7)}),e=2*e*f*g},betNum:function(){var a="",b=$("#betSure li .left-num");return b.length?function(){return b.each(function(b,c){a+=";"+$(c).find(".sure-ball").html()}),a=a.slice(1)}():null},inSure:function(a,b,c){var f=this,g=$("#beishu"),k=(i.game.gameCn,$("#followNum")),l=function(a,c,d){var g=a.val().trim();return/^[1-9][0-9]*$/.test(g)&&c>=g?(b.html("共"+f.sum()+"元 付款"),!0):(e.show(d,function(){a.val(1),b.html("共"+f.sum()+"元 付款")}),!1)},m=function(){$("#MainSelect").height(window.innerHeight-150),$("#betSure").css("min-height",window.innerHeight)};f.type=f.ball.length>a?"复式":"单式",m(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+j+"/").off(),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block");var n=window.innerHeight-$("header").offset().height-$(".base-bar").offset().height;$("#MainSelect").css("height",n+"px");var o=new d("#MainSelect",{bounce:!0});f.updateLs(),c.off().on("tap",function(){$("#betSure ul").html("");try{localStorage.removeItem("default_bet_"+j),h=null}catch(a){h=null}b.html("共"+f.sum()+"元 付款")}),b.off().html("共"+f.sum()+"元 付款").data("st",1).on("tap",function(){var a=(g.val(),k.val().trim());+b.data("st")&&l(g,999,"倍数必须是1-999的正整数")&&l(k,100,"连续购买期数必须是1-100的正整数")&&f.pay.call(this,j,i.availablePeriod.periodNo,a)}),$("#betSure ul").on("tap",".right-type",function(){var a=$(this),c=a.data("code");f.updateLs(c),a.parent().remove(),b.html("共"+f.sum()+"元 付款")}),$("#betSure").on("swipeDown",function(){o.getComputedPosition().y<50||(f.ball=f.random(31,a,1),f.updateLs(),o.refresh(),b.html("共"+f.sum()+"元 付款"))}),g.on("input",function(){""!==$(this).val().trim()&&l($(this),999,"倍数必须是1-999的正整数")}),k.on("input",function(){""!==$(this).val().trim()&&l($(this),100,"连续购买期数必须是1-100的正整数")}),window.onresize=function(){m(),o.refresh()}}},l=function(){var a=$("#betBall li span");a.on("tap",function(){var a=$(this),b=a.html();a.hasClass("active")?_.remove(k.ball,function(a){return a==b}):k.ball.push(b),a.toggleClass("active")}),$("header .left a").on("tap",function(){k.ball=[];try{localStorage.removeItem("default_bet_"+j),h=null}catch(a){h=null}})},m=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=function(){window.innerHeight-$("header").offset().height-$(".base-bar").offset().height-$("#headInfo").offset().height-$(".bet-tip").offset().height
};c();try{$("#headInfo").html(_.template($("#headInfo_tpl").html(),i))}catch(d){}if(a.on("tap",function(){k.ball=[],$("#betBall li span").removeClass("active")}),b.on("tap",function(){return k.ball.length<7?void e.show("至少选择7个号码"):(k.inSure(7,b,a),!1)}),window.DeviceMotionEvent){var f=function(){k.random(31,7,0)};$(".shake-ico").show().on("tap",f),new g(f)}try{localStorage.login_next&&k.inSure(7,b,a)}catch(h){}window.onresize=function(){c()}};c.init=function(){var a=window.data?JSON.parse(window.data):{};i=a,j=i.game.gameId,l(),m()}},{"../../common/js/dateformat.js":2,"../../common/js/iscroll-lite.js":4,"../../common/js/passport.js":8,"../../common/js/shake.js":9,"../../common/js/tooltip.js":11}],27:[function(a,b,c){var d,e=(a("../../common/js/iscroll-lite.js"),a("../../common/js/tooltip.js")),f=a("../../common/js/passport.js"),g=(a("../../common/js/panel.js"),a("../../common/js/shake.js")),h=(a("../../common/js/dateformat.js"),null),i=null,j=(_.template($("#headInfoTpl").html()),null),k=[[],[],[],[],[],[],[]];try{j=window.sessionStorage}catch(l){}var m={gameId:"qxc",gameCn:"七星彩",periodNo:0},n=function(){var a=$("#qxc ul");a.each(function(){var a=$(this),b=a.data("pos");a.find("li").each(function(){var a=$(this).find("span").html(),c=k[b][0];a==c&&$(this).find("span").addClass("cur")})})},o=function(){var a=_.range(0,10);r();for(var b=0;7>b;b++)k[b]=[_.sample(a,1)];n()},p=function(){var a="",b=_.template($("#betLi").html()),c=null;try{c=j[d]||h}catch(e){c=h}c=c.split(";");var f=$("#betSure ul");$.each(c,function(c,d){var e={code:d};a+=b(e)}),f.html(a)},q=function(a){try{if(j.login_next)return j.removeItem("login_next"),void p()}catch(b){}var c=null;try{c=j[d]||h}catch(b){c=h}var e=c?c.split(";"):[];if(a)e.splice(e.indexOf(a),1);else{var f=_.map(k,function(a){return a.join("")}).join(" ");f=$.trim(f),e.unshift(f)}try{j[d]=e.join(";"),h=e.join(";"),e.length||j.removeItem(d)}catch(b){h=e.join(";"),e.length||(h=[])}a||p()},r=function(){$("#qxc ul li").find("span").removeClass("cur");for(var a in k)k[a]=[]},s=function(){var a=0,b=+$("#beishu").val(),c=+$("#followNum").val().trim(),e=[],f=null;try{f=j[d]||h}catch(g){f=h}return f&&(e=f.split(";"),_.each(e,function(b){var c=b.split(" "),d=1;for(var e in c)d*=c[e].length;a+=d})),a=2*a*b*c,$("#operate .sure").html("共"+a+"元 付款"),a},t=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";try{if(!$("#betSure li").length||!j[d]&&!h)return e.show("投注号码不能为空"),!1}catch(i){if(!$("#betSure li").length||!h)return e.show("投注号码不能为空"),!1}if(b>5e6)return e.show("订单金额不能高于5000000元，请您分开投注"),!1;var k="";try{k=j[d]||h}catch(i){k=h}var l={sourceType:2,rawBetNumbers:k,betTimes:+a,gameId:m.gameId,periodNo:m.periodNo,price:100*b},n=parseInt(c);n>1&&(g="/ajax/order/followbet.html",l={rawBetNumbers:j[d],followPeriodNums:n,ordertype:2,sourceType:2,gameId:m.gameId,price:100*b,betTimes:+a}),u(f,g,l)},u=function(a,b,c){$.post(b,c,function(b){if(401==+b.retcode){try{j.login_next=1}catch(c){}return void f.toLogin()}if(b.result&&b.result.payOrderId){a.off().data("st",0).addClass("disable");try{j.removeItem(d),h=[]}catch(c){h=[]}if(window.navigator.userAgent.indexOf("Safari"))return setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300),a.data("st",1).removeClass("disable"),!1;window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId),a.data("st",1).removeClass("disable")}else e.show(b.retdesc),a.data("st",1).removeClass("disable")})},v=function(){for(var a=k.length-1;a>=0;a--)if(0===k[a].length)return e.show("每位至少选择一个号码"),!1;return!0},w=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),i=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(s(),!0):(e.show(c,function(){a.val(1)}),s(),!1)},k=function(){window.innerHeight-$("header").offset().height-$(".base-bar").offset().height};k(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+m.gameId+"/").off(),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),q(),f=s(),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");q(b),a.parent().remove(),f=s()}),c.on("input",function(){""!==$(this).val().trim()&&i($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&i($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html("");try{j.removeItem(d),h=[]}catch(a){h=[]}b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();i(c,999,"倍数必须是1-999的正整数")&&i(g,100,"连续购买期数必须是1-100的正整数")&&t.call(this,a,s(),b)}),window.onresize=function(){k()}},x=function(a,b){k[a].push(b),k[a]=_.sortBy(k[a],function(a){return+a})},y=function(a,b){k[a]=_.filter(k[a],function(a){return a!=b})},z=function(){$("#qxc ul li span");$("#qxc ul li span").on("tap",function(){var a=$(this),b=a.html(),c=a.parent().parent().data("pos");a.toggleClass("cur"),a.hasClass("cur")?x(c,b):y(c,b)})},A=function(){var a=$("#operate .empty"),b=$("#operate .sure");try{$("#headInfo").html(_.template($("#headInfoTpl").html(),i))}catch(c){}z(),a.on("tap",function(){r()}),window.DeviceMotionEvent&&($(".shake-ico").show().on("tap",o),new g(o)),b.on("tap",function(){return _.every(k,function(a){return a.length>0})?v()&&w():e.show("请每一位至少选择一个投注号码"),!1}),$("header .left a").on("tap",function(){r();try{j.removeItem(d),h=null}catch(a){h=null}}),j.login_next&&w()};c.init=function(){var a=window.data?JSON.parse(window.data):{};i=a,m.gameId=i.game.gameId||"-",m.gameCn=i.game.gameCn||"-",m.periodNo=i.availablePeriod.periodNo||"-",d="bet_"+m.gameId,A()}},{"../../common/js/dateformat.js":2,"../../common/js/iscroll-lite.js":4,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/shake.js":9,"../../common/js/tooltip.js":11}],28:[function(a,b,c){var d,e=a("../../common/js/tooltip.js"),f=a("../../common/js/passport.js"),g=a("../../common/js/panel.js"),h=(a("../../common/js/dateformat.js"),null),i=_.template('<ul class="k3-type d11-type ssc-type" id="sscType">    <li data-id="Z5"><span>五星直选</span></li>    <li data-id="Z5T"><span>五星通选</span></li>    <li data-id="Z4"><span>四星</span></li>    <li data-id="Z3" class="cur"><span>三星直选</span></li>    <li data-id="Z3z3"><span>三星组三</span></li>    <li data-id="Z3z6"><span>三星组六</span></li>    <li data-id="Z2"><span>二星直选</span></li>    <li data-id="Z2z2"><span>二星组选</span></li>    <li data-id="Z1"><span>一星</span></li>    <li data-id="DXDS"><span>大小单双</span></li>    <li data-id="A1"><span>任选一</span></li>    <li data-id="A2"><span>任选二</span></li></ul>'),j=_.template('<ul class="k3-type d11-type ssc-type" id="sscType">    <li data-id="Z5"><span>五星直选</span></li>    <li data-id="Z5T"><span>五星通选</span></li>    <li data-id="Z3" class="cur"><span>三星直选</span></li>    <li data-id="Z3z3"><span>三星组三</span></li>    <li data-id="Z3z6"><span>三星组六</span></li>    <li data-id="Z2"><span>二星直选</span></li>    <li data-id="Z2z2"><span>二星组选</span></li>    <li data-id="Z1"><span>一星</span></li>    <li data-id="DXDS"><span>大小单双</span></li></ul>'),k=_.template($("#headInfoTpl").html()),l=window.sessionStorage,m=[[],[],[],[],[]],n={type:"Z3",gameId:"",gameCn:"新时时彩",periodNo:0},o={Z5:"五星直选",Z5T:"五星通选",Z4:"四星",Z3:"三星直选",Z3z3:"三星组三",Z3z6:"三星组六",Z2:"二星直选",Z2z2:"二星组选",Z1:"一星",DXDS:"大小单双",A1:"任选一",A2:"任选二"},p={1:"小",2:"大",4:"双",5:"单"},q=function(a,b){if(b>a)return 0;a=+a,b=+b;for(var c=1,d=1,e=a,f=1;b>=f;c*=e--,d*=f++);return c/d},r=function(){var a=+h.availablePeriod.endTime,b=+new Date-+h.systemTime,c={},d=function(){$.post("/ajax/game/highfrequency/"+n.gameId+"/getAll.html",function(b){200==b.retcode?(b.object.openingAwardPeriodNo?setTimeout(d,15e3):d._render=1,d._render&&(d._render=0,h=b.object,a=+h.availablePeriod.endTime,g())):setTimeout(d,3e3)})},f=function(){var g=a-+new Date+b;if(g>0){var h=g>36e5?parseInt(g/36e5)+":":"";h+=new Date(g).Format("mm:ss"),$("#timer").html(h),setTimeout(f,1e3)}else e.show(c.periodNo+"期已截止投注",function(){d._render=1,d()})},g=function(){if(n.periodNo=h.availablePeriod.periodNo,c.periodNo=n.periodNo.slice(-2),$("#headInfo").html(k(c)),h.openingAwardPeriodNo)$("#kaiNum").html("开奖中..."),d._render&&d();else{var a=h.awardList[0].prizeNumber.split(",")[0];$("#kaiNum").html(a)}f()};d._render=1,g()},s=function(){var a="",b=_.template($("#betLi").html()),c=l[d].split(";"),e=$("#betSure ul");$.each(c,function(c,d){var e=d.split("_")[0],f=d.split("_")[1],g={name:o[e],cont:f.replace(/ /g,","),code:d,css:""};0===e.indexOf("A")&&(g.cont=g.cont.replace(/\*/g,"-")),"DXDS"==e&&(g.cont=p[g.cont.split(",")[0]]+p[g.cont.split(",")[1]],g.css="font-family:microsoft yahei"),a+=b(g)}),e.html(a)},t=function(a){if(l.login_next)return l.removeItem("login_next"),void s();var b=l[d]?l[d].split(";"):[],c=n.type;if(a)b.splice(b.indexOf(a),1);else switch(c){case"Z5":case"Z5T":case"Z4":case"Z3":case"Z2":case"Z1":var e=_.map(m,function(a){return a.join("")}).join(" ");e=$.trim(e),b.unshift(c+"_"+e);break;case"Z3z3":case"Z3z6":case"Z2z2":b.unshift(c+"_"+m[0].join(","));break;case"A1":case"A2":e=_.map(m,function(a){return a.length?a.join(""):"*"}).join(" "),b.unshift(c+"_"+e);break;case"DXDS":b.unshift(c+"_"+m[0]+" "+m[1])}l[d]=b.join(";"),b.length||l.removeItem(d),a||s()},u=function(a){"DXDS"==a?$("#DXDS span").removeClass("cur"):$("#"+a).find("li").removeClass("cur");for(var b in m)m[b]=[]},v=function(){var a=0,b=+$("#beishu").val(),c=[],e=+$("#followNum").val().trim();return l[d]&&(c=l[d].split(";"),$.each(c,function(b,c){var d=c.split("_")[0],e=c.split("_")[1];switch(d){case"Z5":case"Z5T":case"Z4":case"Z3":case"Z2":case"Z1":var f=e.split(" "),g=1;for(b in f)g*=f[b].length;a+=g;break;case"Z3z3":f=e.split(","),a+=2*q(f.length,2);break;case"Z3z6":f=e.split(","),a+=q(f.length,3);break;case"Z2z2":f=e.split(","),a+=q(f.length,2);break;case"A1":f=e.split(" ");for(b in f)a+="*"!=f[b]?f[b].length:0;break;case"A2":var h=_.filter(e.split(" "),function(a){return"*"!=a});for(b in h)for(var i=h.length-1;i>b;i--)a+=h[b].length*h[i].length;break;case"DXDS":a+=1}})),a*=2*b*e,$("#operate .sure").html("共"+a+"元 付款"),a},w=function(a,b,c){var f=$(this),g="/ajax/order/bet/do.html";if(!$("#betSure li").length||!l[d])return e.show("投注号码不能为空"),!1;var h={sourceType:2,rawBetNumbers:l[d],betTimes:+a,gameId:n.gameId,periodNo:n.periodNo,price:100*b},i=parseInt(c);i>1&&(g="/ajax/order/followbet.html",h={rawBetNumbers:l[d],followPeriodNums:i,ordertype:2,sourceType:2,gameId:n.gameId,price:100*b,betTimes:+a}),x(f,g,h)},x=function(a,b,c){a.data("st",0).addClass("disable"),$.post(b,c,function(b){return 401==+b.retcode?(l.login_next=1,void f.toLogin()):void(b.result&&b.result.payOrderId?(a.off().data("st",0).addClass("disable"),l.removeItem(d),setTimeout(function(){window.location.replace("/order/pay/detail.html?payOrderId="+b.result.payOrderId)},300)):(e.show(b.retdesc),a.data("st",1).removeClass("disable")))})},y=function(){var a=$("#operate .empty"),b=$("#operate .sure"),c=$("#beishu"),f=0,g=$("#followNum"),h=function(a,b,c){var d=a.val().trim();return/^[1-9][0-9]*$/.test(d)&&b>=d?(v(),!0):(e.show(c,function(){a.val(1)}),v(),!1)};t(),f=v(),$("header h3").html("投注确认"),$("header .left a").html("继续选号<span><em></em></span>").attr("href","/"+n.gameId+"/"),$("#betArea").remove(),$("#betSure").show(),$("#beiTou").css("display","block"),$("#betSure .right-type").on("tap",function(){var a=$(this),b=a.data("code");t(b),a.parent().remove(),f=v()}),c.on("input",function(){""!==$(this).val().trim()&&h($(this),999,"倍数必须是1-999的正整数")}),g.on("input",function(){""!==$(this).val().trim()&&h($(this),100,"连续购买期数必须是1-100的正整数")}),a.off().html("清空选号").on("tap",function(){$("#betSure ul").html(""),l.removeItem(d),b.html("共0元 付款")}),b.off().data("st",1).on("tap",function(){var a=c.val(),b=g.val().trim();h(c,999,"倍数必须是1-999的正整数")&&h(g,100,"连续购买期数必须是1-100的正整数")&&w.call(this,a,v(),b)})},z=function(a){switch(a){case"Z5":case"Z5T":case"Z4":case"Z3":case"Z2":case"Z1":for(var b=5-+a.slice(1,2);5>b;b++)if(!m[b].length)return e.show("每位至少选择1个号码"),!1;return!0;case"Z3z3":case"Z2z2":return m[0].length>=2||(e.show("至少选择2个号码"),!1);case"Z3z6":return m[0].length>=3||(e.show("至少选择3个号码"),!1);case"A1":case"A2":var c=+a.slice(1,2);return _.filter(m,function(a){return a.length}).length>=c||(e.show("任意"+c+"位至少各选择1个号码"),!1);case"DXDS":return m[0].length&&m[1].length||(e.show("每位选择1个属性"),!1)}},A=function(a,b){m[a].push(b),m[a]=_.sortBy(m[a],function(a){return+a})},B=function(a,b){m[a]=_.filter(m[a],function(a){return a!=b})},C=function(a){$("#"+a).find("li").on("tap",function(){var a=$(this),b=a.html(),c=a.parent().data("pos");a.toggleClass("cur"),a.hasClass("cur")?A(c,b):B(c,b)})},D=function(){$("#DXDS span").on("tap",function(){var a=$(this),b=a.data("v"),c=b.i,d=b.v;a.toggleClass("cur"),a.siblings().removeClass("cur"),m[c]=a.hasClass("cur")?[d]:[]})},E=function(a){$.post("/ajax/system/getTime/ms.html",function(a){h.systemTime=a,r()});var b=$("#operate .empty"),c=$("#operate .sure");$("header .dropdown,header h3 span").on("tap",function(){var b,c=n.type;"sscjx"==a?b=i:"ssccq"==a&&(b=j),$("header .dropdown").toggleClass("droped"),$("header .dropdown").hasClass("droped")?g.show(b,function(){$("#sscType li").on("tap",function(){var a=$(this),b=a.data("id"),d=a.find("span").html();n.type=b,a.addClass("cur").siblings().removeClass("cur"),$("#ssc_play").html(n.gameCn+"-"+d),$("#"+b).show().siblings(".d11_toggle").hide(),$("header .dropdown").removeClass("droped"),g.hide(),u(c)})}):g.hide()}),b.on("tap",function(){u(n.type)}),c.on("tap",function(){var a=0;for(var b in m)a+=m[b].length;return a?z(n.type)&&y():e.show("请先选择投注号码"),!1}),l.login_next&&y()};c.init=function(){var a=window.data?JSON.parse(window.data):{};h=a,n.gameId=h.game.gameId||"sscjx",n.gameCn=h.game.gameCn||"新时时彩",d="bet_"+n.gameId,E(n.gameId);for(var b in o)"DXDS"!=b?C(b):D()}},{"../../common/js/dateformat.js":2,"../../common/js/panel.js":7,"../../common/js/passport.js":8,"../../common/js/tooltip.js":11}]},{},[12]);